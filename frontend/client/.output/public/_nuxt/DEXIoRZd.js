import{j as T,y as ue,z as de,A as fe,B as he,C as ve,D as ge,l as H,E as ye,G as M,r as w,H as X,I as me,n as _e,J as pe,u as W,K as be,L as ee,M as we,N as $e,c as h,o as f,a as o,d as Q,t as S,x as z,_ as te,s as P,F as j,m as E,q as De,O as xe,P as Ce,Q as Be,R as ke,S as Oe,b as Y,T as ze,U as Se}from"#entry";import{_ as Pe}from"./Dz9AoYky.js";import{u as je}from"./DShN9rwg.js";import"./CfE61_DW.js";function Ee(s){return typeof s=="string"?`'${s}'`:new Te().serialize(s)}const Te=(function(){class s{#e=new Map;compare(e,t){const i=typeof e,l=typeof t;return i==="string"&&l==="string"?e.localeCompare(t):i==="number"&&l==="number"?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(e===null)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if(t!=="[object Object]")return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const i=e.constructor,l=i===Object||i===void 0?"":i.name;if(l!==""&&globalThis[l]===i)return this.serializeBuiltInType(l,e);if(typeof e.toJSON=="function"){const n=e.toJSON();return l+(n!==null&&typeof n=="object"?this.$object(n):`(${this.serialize(n)})`)}return this.serializeObjectEntries(l,Object.entries(e))}serializeBuiltInType(e,t){const i=this["$"+e];if(i)return i.call(this,t);if(typeof t?.entries=="function")return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const i=Array.from(t).sort((n,v)=>this.compare(n[0],v[0]));let l=`${e}{`;for(let n=0;n<i.length;n++){const[v,c]=i[n];l+=`${this.serialize(v,!0)}:${this.serialize(c)}`,n<i.length-1&&(l+=",")}return l+"}"}$object(e){let t=this.#e.get(e);return t===void 0&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return t.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let i=0;i<e.length;i++)t+=this.serialize(e[i]),i<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((t,i)=>this.compare(t,i)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const a of["Error","RegExp","URL"])s.prototype["$"+a]=function(e){return`${a}(${e})`};for(const a of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])s.prototype["$"+a]=function(e){return`${a}[${e.join(",")}]`};for(const a of["BigInt64Array","BigUint64Array"])s.prototype["$"+a]=function(e){return`${a}[${e.join("n,")}${e.length>0?"n":""}]`};return s})(),Ae=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ue=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",N=[];class Re{_data=new q;_hash=new q([...Ae]);_nDataBytes=0;_minBufferSize=0;finalize(a){a&&this._append(a);const e=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(t+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(a,e){const t=this._hash.words;let i=t[0],l=t[1],n=t[2],v=t[3],c=t[4],p=t[5],g=t[6],m=t[7];for(let y=0;y<64;y++){if(y<16)N[y]=a[e+y]|0;else{const b=N[y-15],d=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,u=N[y-2],r=(u<<15|u>>>17)^(u<<13|u>>>19)^u>>>10;N[y]=d+N[y-7]+r+N[y-16]}const $=c&p^~c&g,_=i&l^i&n^l&n,O=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),B=m+x+$+Ue[y]+N[y],C=O+_;m=g,g=p,p=c,c=v+B|0,v=n,n=l,l=i,i=B+C|0}t[0]=t[0]+i|0,t[1]=t[1]+l|0,t[2]=t[2]+n|0,t[3]=t[3]+v|0,t[4]=t[4]+c|0,t[5]=t[5]+p|0,t[6]=t[6]+g|0,t[7]=t[7]+m|0}_append(a){typeof a=="string"&&(a=q.fromUtf8(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_process(a){let e,t=this._data.sigBytes/64;a?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const i=t*16,l=Math.min(i*4,this._data.sigBytes);if(i){for(let n=0;n<i;n+=16)this._doProcessBlock(this._data.words,n);e=this._data.words.splice(0,i),this._data.sigBytes-=l}return new q(e,l)}}class q{words;sigBytes;constructor(a,e){a=this.words=a||[],this.sigBytes=e===void 0?a.length*4:e}static fromUtf8(a){const e=unescape(encodeURIComponent(a)),t=e.length,i=[];for(let l=0;l<t;l++)i[l>>>2]|=(e.charCodeAt(l)&255)<<24-l%4*8;return new q(i,t)}toBase64(){const a=[];for(let e=0;e<this.sigBytes;e+=3){const t=this.words[e>>>2]>>>24-e%4*8&255,i=this.words[e+1>>>2]>>>24-(e+1)%4*8&255,l=this.words[e+2>>>2]>>>24-(e+2)%4*8&255,n=t<<16|i<<8|l;for(let v=0;v<4&&e*8+v*6<this.sigBytes*8;v++)a.push(Me.charAt(n>>>6*(3-v)&63))}return a.join("")}concat(a){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<a.sigBytes;e++){const t=a.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=t<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<a.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=a.words[e>>>2];this.sigBytes+=a.sigBytes}}function Fe(s){return new Re().finalize(s).toBase64()}function L(s){return Fe(Ee(s))}const Ie={trailing:!0};function Ne(s,a=25,e={}){if(e={...Ie,...e},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let t,i,l=[],n,v;const c=(m,y)=>(n=Le(s,m,y),n.finally(()=>{if(n=null,e.trailing&&v&&!i){const $=c(m,v);return v=null,$}}),n),p=function(...m){return e.trailing&&(v=m),n||new Promise(y=>{const $=!i&&e.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const _=e.leading?t:c(this,m);v=null;for(const O of l)O(_);l=[]},a),$?(t=c(this,m),y(t)):l.push(y)})},g=m=>{m&&(clearTimeout(m),i=null)};return p.isPending=()=>!!i,p.cancel=()=>{g(i),l=[],v=null},p.flush=()=>{if(g(i),!v||n)return;const m=v;return v=null,c(this,m)},p}async function Le(s,a,e){return await s.apply(a,e)}const qe=Symbol.for("nuxt:client-only");function Ge(...s){const a=typeof s[s.length-1]=="string"?s.pop():void 0;Ve(s[0],s[1])&&s.unshift(a);let[e,t,i={}]=s;const l=T(()=>M(e));if(typeof l.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=ue();i.server??=!0,i.default??=Je,i.getCachedData??=ae,i.lazy??=!1,i.immediate??=!0,i.deep??=de.deep,i.dedupe??="cancel",i._functionName,n._asyncData[l.value];const v={cause:"initial",dedupe:i.dedupe};n._asyncData[l.value]?._init||(v.cachedData=i.getCachedData(l.value,n,{cause:"initial"}),n._asyncData[l.value]=K(n,l.value,t,i,v.cachedData));const c=n._asyncData[l.value];c._deps++;const p=()=>n._asyncData[l.value].execute(v),g=i.server!==!1&&n.payload.serverRendered;{let $=function(b){const d=n._asyncData[b];d?._deps&&(d._deps--,d._deps===0&&d?._off())};const _=fe();if(_&&g&&i.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const b=_._nuxtOnBeforeMountCbs;he(()=>{b.forEach(d=>{d()}),b.splice(0,b.length)}),ve(()=>b.splice(0,b.length))}const O=_&&(_._nuxtClientOnly||ge(qe,!1));g&&n.isHydrating&&(c.error.value||c.data.value!==void 0)?c.status.value=c.error.value?"error":"success":_&&(!O&&n.payload.serverRendered&&n.isHydrating||i.lazy)&&i.immediate?_._nuxtOnBeforeMountCbs.push(p):i.immediate&&c.status.value!=="success"&&p();const x=be(),B=H(l,(b,d)=>{if((b||d)&&b!==d){const u=n._asyncData[d]?.data.value!==void 0,r=n._asyncDataPromises[d]!==void 0;d&&$(d);const k={cause:"initial",dedupe:i.dedupe};if(!n._asyncData[b]?._init){let R;d&&u?R=n._asyncData[d]?.data.value:(R=i.getCachedData(b,n,{cause:"initial"}),k.cachedData=R),n._asyncData[b]=K(n,b,t,i,R)}n._asyncData[b]._deps++,(i.immediate||u||r)&&n._asyncData[b].execute(k)}},{flush:"sync"}),C=i.watch?H(i.watch,()=>{c._execute({cause:"watch",dedupe:i.dedupe})}):()=>{};x&&ye(()=>{B(),C(),$(l.value)})}const m={data:V(()=>n._asyncData[l.value]?.data),pending:V(()=>n._asyncData[l.value]?.pending),status:V(()=>n._asyncData[l.value]?.status),error:V(()=>n._asyncData[l.value]?.error),refresh:(...$)=>n._asyncData[l.value].execute(...$),execute:(...$)=>n._asyncData[l.value].execute(...$),clear:()=>se(n,l.value)},y=Promise.resolve(n._asyncDataPromises[l.value]).then(()=>m);return Object.assign(y,m),y}function V(s){return T({get(){return s()?.value},set(a){const e=s();e&&(e.value=a)}})}function Ve(s,a){return!(typeof s=="string"||typeof s=="object"&&s!==null||typeof s=="function"&&typeof a=="function")}function se(s,a){a in s.payload.data&&(s.payload.data[a]=void 0),a in s.payload._errors&&(s.payload._errors[a]=void 0),s._asyncData[a]&&(s._asyncData[a].data.value=W(s._asyncData[a]._default()),s._asyncData[a].error.value=void 0,s._asyncData[a].status.value="idle"),a in s._asyncDataPromises&&(s._asyncDataPromises[a]&&(s._asyncDataPromises[a].cancelled=!0),s._asyncDataPromises[a]=void 0)}function He(s,a){const e={};for(const t of a)e[t]=s[t];return e}function K(s,a,e,t,i){s.payload._errors[a]??=void 0;const l=t.getCachedData!==ae,n=e,v=t.deep?w:X,c=i!==void 0,p=s.hook("app:data:refresh",async m=>{(!m||m.includes(a))&&await g.execute({cause:"refresh:hook"})}),g={data:v(c?i:t.default()),pending:T(()=>g.status.value==="pending"),error:me(s.payload._errors,a),status:X("idle"),execute:(...m)=>{const[y,$=void 0]=m,_=y&&$===void 0&&typeof y=="object"?y:{};if(s._asyncDataPromises[a]){if((_.dedupe??t.dedupe)==="defer")return s._asyncDataPromises[a];s._asyncDataPromises[a].cancelled=!0}{const x="cachedData"in _?_.cachedData:t.getCachedData(a,s,{cause:_.cause??"refresh:manual"});if(x!==void 0)return s.payload.data[a]=g.data.value=x,g.error.value=void 0,g.status.value="success",Promise.resolve(x)}g.status.value="pending";const O=new Promise((x,B)=>{try{x(n(s))}catch(C){B(C)}}).then(async x=>{if(O.cancelled)return s._asyncDataPromises[a];let B=x;t.transform&&(B=await t.transform(x)),t.pick&&(B=He(B,t.pick)),s.payload.data[a]=B,g.data.value=B,g.error.value=void 0,g.status.value="success"}).catch(x=>{if(O.cancelled)return s._asyncDataPromises[a];g.error.value=pe(x),g.data.value=W(t.default()),g.status.value="error"}).finally(()=>{O.cancelled||delete s._asyncDataPromises[a]});return s._asyncDataPromises[a]=O,s._asyncDataPromises[a]},_execute:Ne((...m)=>g.execute(...m),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{p(),s._asyncData[a]?._init&&(s._asyncData[a]._init=!1),l||_e(()=>{s._asyncData[a]?._init||(se(s,a),g.execute=()=>Promise.resolve())})}};return g}const Je=()=>{},ae=(s,a,e)=>{if(a.isHydrating)return a.payload.data[s];if(e.cause!=="refresh:manual"&&e.cause!=="refresh:hook")return a.static.data[s]};function Qe(s,a,e){const[t={},i]=typeof a=="string"?[{},a]:[a,e],l=T(()=>M(s)),n=T(()=>M(t.key)||"$f"+L([i,typeof l.value=="string"?l.value:"",...We(t)]));if(!t.baseURL&&typeof l.value=="string"&&l.value[0]==="/"&&l.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:v,lazy:c,default:p,transform:g,pick:m,watch:y,immediate:$,getCachedData:_,deep:O,dedupe:x,...B}=t,C=ee({...we,...B,cache:typeof t.cache=="boolean"?void 0:t.cache}),b={server:v,lazy:c,default:p,transform:g,pick:m,immediate:$,getCachedData:_,deep:O,dedupe:x,watch:y===!1?[]:[...y||[],C]};let d;return Ge(y===!1?n.value:n,()=>{d?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),d=typeof AbortController<"u"?new AbortController:{};const r=M(t.timeout);let k;return r&&(k=setTimeout(()=>d.abort(new DOMException("Request aborted due to timeout.","AbortError")),r),d.signal.onabort=()=>clearTimeout(k)),(t.$fetch||globalThis.$fetch)(l.value,{signal:d.signal,...C}).finally(()=>{clearTimeout(k)})},b)}function We(s){const a=[M(s.method)?.toUpperCase()||"GET",M(s.baseURL)];for(const e of[s.params||s.query]){const t=M(e);if(!t)continue;const i={};for(const[l,n]of Object.entries(t))i[M(l)]=M(n);a.push(i)}if(s.body){const e=M(s.body);if(!e)a.push(L(e));else if(e instanceof ArrayBuffer)a.push(L(Object.fromEntries([...new Uint8Array(e).entries()].map(([t,i])=>[t,i.toString()]))));else if(e instanceof FormData){const t={};for(const i of e.entries()){const[l,n]=i;t[l]=n instanceof File?n.name:n}a.push(L(t))}else if($e(e))a.push(L(ee(e)));else try{a.push(L(e))}catch{console.warn("[useFetch] Failed to hash body",e)}}return a}const Ze={class:"select-shoing-wrap d-flex align-items-center"},Xe={class:"header-bottom-set dropdown"},Ye={class:"dropdown-toggle header-action-btn","data-bs-toggle":"dropdown"},Ke={class:"dropdown-menu dropdown-menu-right"},et={__name:"ProductAppSortedGoods",emits:["update:sortOption"],setup(s,{emit:a}){const e=a,t=w("default"),i={alphabetical:"по алфавиту",price_asc:"по низкой цене",price_desc:"по высокой цене",default:"по умолчанию"},l=T(()=>i[t.value]),n=v=>{t.value=v,e("update:sortOption",v)};return(v,c)=>(f(),h("div",Ze,[c[5]||(c[5]=o("div",{class:"shot-product"},[o("p",null,"Сортировать:")],-1)),o("div",Xe,[o("button",Ye,[Q(S(l.value)+" ",1),c[4]||(c[4]=o("i",{class:"fa fa-angle-down"},null,-1))]),o("ul",Ke,[o("li",null,[o("a",{class:"dropdown-item",href:"#",onClick:c[0]||(c[0]=z(p=>n("alphabetical"),["prevent"]))}," по алфавиту")]),o("li",null,[o("a",{class:"dropdown-item",href:"#",onClick:c[1]||(c[1]=z(p=>n("price_asc"),["prevent"]))}," по низкой цене ")]),o("li",null,[o("a",{class:"dropdown-item",href:"#",onClick:c[2]||(c[2]=z(p=>n("price_desc"),["prevent"]))}," по высокой цене ")]),o("li",null,[o("a",{class:"dropdown-item",href:"#",onClick:c[3]||(c[3]=z(p=>n("default"),["prevent"]))}," по умолчанию ")])])])]))}},tt={class:"col-lg-3 order-lg-first col-md-12 order-md-last"},st={class:"shop-sidebar-wrap"},at={key:0,class:"sidebar-widget"},it={class:"sidebar-widget-category"},nt={class:"subcategories"},rt=["onClick"],lt={key:1,class:"sidebar-widget"},ot={class:"sidebar-widget-category"},ct=["onClick"],ut={key:2,class:"sidebar-widget"},dt={class:"sidebar-widget-category"},ft=["onClick"],ht={key:3,class:"sidebar-widget"},vt={class:"sidebar-widget-color"},gt={class:"d-flex flex-wrap"},yt=["data-color","onClick"],mt={key:4,class:"sidebar-widget"},_t={class:"sidebar-widget-category"},pt=["onClick"],bt={key:5,class:"sidebar-widget"},wt={class:"sidebar-widget-category"},$t=["onClick"],Dt={key:6,class:"sidebar-widget"},xt={class:"sidebar-widget-category"},Ct=["onClick"],Bt={key:7,class:"sidebar-widget"},kt={class:"sidebar-widget-category"},Ot=["onClick"],zt={key:8,class:"sidebar-widget"},St={class:"sidebar-widget-size"},Pt=["onClick"],jt={key:9,class:"sidebar-widget"},Et={class:"sidebar-widget-category"},Tt={id:"brands-list"},At=["onClick"],Ut={id:"hidden-brands"},Mt=["onClick"],Rt={key:0},Ft={__name:"FiltersAppCategoryFilters",props:{subcategories:{type:Array,default:()=>[]},patterns:{type:Array,default:()=>[]},weights:{type:Array,default:()=>[]},colors:{type:Array,default:()=>[]},glues:{type:Array,default:()=>[]},mixture_types:{type:Array,default:()=>[]},seams:{type:Array,default:()=>[]},textures:{type:Array,default:()=>[]},sizes:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},initialFilters:{type:Object,default:()=>({brands:[],min_price:"",max_price:"",colors:[],patterns:[],weights:[],subcategories:[],glues:[],mixture_types:[],seams:[],textures:[],sizes:[]})}},emits:["update:filters"],setup(s,{emit:a}){const e=s,t=a,i=w(e.initialFilters.brands),l=w(e.initialFilters.colors),n=w(e.initialFilters.patterns),v=w(e.initialFilters.weights),c=w(e.initialFilters.subcategories),p=w(e.initialFilters.glues),g=w(e.initialFilters.mixture_types),m=w(e.initialFilters.seams),y=w(e.initialFilters.textures),$=w(e.initialFilters.sizes),_=w(!1),O=T(()=>e.brands.slice(0,5)),x=T(()=>e.brands.slice(5)),B=()=>{_.value=!_.value},C=(d,u)=>{if(d==="brand"){const r=i.value.indexOf(u);r===-1?i.value.push(u):i.value.splice(r,1)}else if(d==="color"){const r=l.value.indexOf(u);r===-1?l.value.push(u):l.value.splice(r,1)}else if(d==="pattern"){const r=n.value.indexOf(u);r===-1?n.value.push(u):n.value.splice(r,1)}else if(d==="weight"){const r=v.value.indexOf(u);r===-1?v.value.push(u):v.value.splice(r,1)}else if(d==="subcategory"){const r=c.value.indexOf(u);r===-1?c.value.push(u):c.value.splice(r,1)}else if(d==="glue"){const r=p.value.indexOf(u);r===-1?p.value.push(u):p.value.splice(r,1)}else if(d==="mixture_type"){const r=g.value.indexOf(u);r===-1?g.value.push(u):g.value.splice(r,1)}else if(d==="seam"){const r=m.value.indexOf(u);r===-1?m.value.push(u):m.value.splice(r,1)}else if(d==="texture"){const r=y.value.indexOf(u);r===-1?y.value.push(u):y.value.splice(r,1)}else if(d==="size"){const r=$.value.indexOf(u);r===-1?$.value.push(u):$.value.splice(r,1)}b()},b=()=>{t("update:filters",{brands:i.value,colors:l.value,patterns:n.value,weights:v.value,subcategories:c.value,glues:p.value,mixture_types:g.value,seams:m.value,textures:y.value,sizes:$.value})};return H(()=>e.initialFilters,d=>{i.value=d.brands||[],l.value=d.colors||[],n.value=d.patterns||[],v.value=d.weights||[],c.value=d.subcategories||[],p.value=d.glues||[],g.value=d.mixture_types||[],m.value=d.seams||[],y.value=d.textures||[],$.value=d.sizes||[]},{deep:!0}),(d,u)=>(f(),h("div",tt,[o("div",st,[s.subcategories&&s.subcategories.length?(f(),h("div",at,[u[0]||(u[0]=o("h4",{class:"sidebar-title"},"Тип",-1)),o("div",it,[o("ul",null,[o("div",nt,[(f(!0),h(j,null,E(s.subcategories,r=>(f(),h("li",{class:"dropdown position-static",key:r.id},[o("a",{href:"#",onClick:z(k=>C("subcategory",r.id),["prevent"])},S(r.name),9,rt)]))),128))])])])])):P("",!0),s.patterns&&s.patterns.length?(f(),h("div",lt,[u[1]||(u[1]=o("h4",{class:"sidebar-title"},"Рисунок",-1)),o("div",ot,[o("ul",null,[(f(!0),h(j,null,E(s.patterns,r=>(f(),h("li",{class:"dropdown position-static",key:r.id},[o("a",{href:"#",onClick:z(k=>C("pattern",r.id),["prevent"])},S(r.name),9,ct)]))),128))])])])):P("",!0),s.weights&&s.weights.length?(f(),h("div",ut,[u[2]||(u[2]=o("h4",{class:"sidebar-title"},"Вес (кг)",-1)),o("div",dt,[o("ul",null,[(f(!0),h(j,null,E(s.weights,r=>(f(),h("li",{class:"color-list weight",key:r.id},[o("a",{href:"#",class:"text-white",onClick:z(k=>C("weight",r.id),["prevent"])},S(r.value),9,ft)]))),128))])])])):P("",!0),s.colors&&s.colors.length?(f(),h("div",ht,[u[3]||(u[3]=o("h4",{class:"sidebar-title"},"Цвет",-1)),o("div",vt,[o("ul",gt,[(f(!0),h(j,null,E(s.colors,r=>(f(),h("li",{class:"color-list",key:r.id},[o("a",{href:"#",style:De({backgroundColor:r.hex_code}),class:"colors-filter","data-color":r.name,onClick:z(k=>C("color",r.id),["prevent"])},null,12,yt)]))),128))])])])):P("",!0),s.glues&&s.glues.length?(f(),h("div",mt,[u[4]||(u[4]=o("h4",{class:"sidebar-title"},"Использовать в качестве клея",-1)),o("div",_t,[o("ul",null,[(f(!0),h(j,null,E(s.glues,r=>(f(),h("li",{class:"color-list weight",key:r.id},[o("a",{href:"#",class:"text-white",onClick:z(k=>C("glue",r.id),["prevent"])},S(r.name),9,pt)]))),128))])])])):P("",!0),s.mixture_types&&s.mixture_types.length?(f(),h("div",bt,[u[5]||(u[5]=o("h4",{class:"sidebar-title"},"Тип смеси",-1)),o("div",wt,[o("ul",null,[(f(!0),h(j,null,E(s.mixture_types,r=>(f(),h("li",{key:r.id},[o("a",{href:"#",onClick:z(k=>C("mixture_type",r.id),["prevent"])},S(r.name),9,$t)]))),128))])])])):P("",!0),s.seams&&s.seams.length?(f(),h("div",Dt,[u[6]||(u[6]=o("h4",{class:"sidebar-title"},"Ширина шва (мм)",-1)),o("div",xt,[o("ul",null,[(f(!0),h(j,null,E(s.seams,r=>(f(),h("li",{class:"color-list weight",key:r.id},[o("a",{href:"#",class:"text-white",onClick:z(k=>C("seam",r.id),["prevent"])},S(r.value),9,Ct)]))),128))])])])):P("",!0),s.textures&&s.textures.length?(f(),h("div",Bt,[u[7]||(u[7]=o("h4",{class:"sidebar-title"},"Поверхность",-1)),o("div",kt,[o("ul",null,[(f(!0),h(j,null,E(s.textures,r=>(f(),h("li",{key:r.id},[o("a",{href:"#",onClick:z(k=>C("texture",r.id),["prevent"])},S(r.name),9,Ot)]))),128))])])])):P("",!0),s.sizes&&s.sizes.length?(f(),h("div",zt,[u[8]||(u[8]=o("h4",{class:"sidebar-title"},"Размер",-1)),o("div",St,[o("ul",null,[(f(!0),h(j,null,E(s.sizes,r=>(f(),h("li",{key:r.id},[o("a",{href:"#",onClick:z(k=>C("size",r.id),["prevent"])},S(r.value),9,Pt)]))),128))])])])):P("",!0),s.brands&&s.brands.length?(f(),h("div",jt,[u[9]||(u[9]=o("h4",{class:"sidebar-title"},"Производитель",-1)),o("div",Et,[o("ul",Tt,[(f(!0),h(j,null,E(O.value,r=>(f(),h("li",{key:r.id},[o("a",{href:"#",onClick:z(k=>C("brand",r.id),["prevent"])},S(r.name),9,At)]))),128)),xe(o("div",Ut,[(f(!0),h(j,null,E(x.value,r=>(f(),h("li",{key:r.id},[o("a",{href:"#",onClick:z(k=>C("brand",r.id),["prevent"])},S(r.name),9,Mt)]))),128))],512),[[Ce,_.value]]),s.brands.length>5?(f(),h("li",Rt,[o("a",{href:"#",id:"show-all-brands",class:"show-more-link",onClick:z(B,["prevent"])},S(_.value?"Скрыть":"Показать все"),1)])):P("",!0)])])])):P("",!0),u[10]||(u[10]=o("div",{class:"sidebar-widget"},[o("div",{class:""},[o("a",{href:"/",class:"btn-filter"}," Сбросить фильтры ")])],-1))])]))}},It=te(Ft,[["__scopeId","data-v-a7a4ef91"]]),Nt={class:"shop-category-area pt-100px pb-100px"},Lt={class:"container"},qt={class:"row"},Gt={class:"col-lg-9 order-lg-last col-md-12 order-md-first"},Vt={class:"shop-top-bar d-flex justify-content-between mb-3"},Ht={class:"category-text"},Jt={key:0,class:"h3 m-0"},Qt={key:1},Wt={key:0,class:"loading"},Zt={key:1,class:"error text-center mt-5"},Xt={key:2,class:"text-center mt-2"},Yt={key:3,class:"shop-bottom-area"},Kt={class:"row"},es={class:"col"},ts={class:"tab-content"},ss={class:"tab-pane fade show active",id:"shop-grid"},as={class:"row mb-n-30px"},is={key:0},ns={class:"pagination"},rs=["onClick"],ls={__name:"[slug]",setup(s){const e=Be().params.slug,t=w({brands:[],min_price:"",max_price:"",colors:[],patterns:[],weights:[],subcategories:[],glues:[],mixture_types:[],seams:[],textures:[],sizes:[]}),i=w([]),l=w(""),n=w(""),v=w("default"),c=w(1),p=w([]),g=w([]),m=w([]),y=w([]),$=w([]),_=w([]),O=w([]),x=w([]),B=w([]),C=(D,F)=>{let G;return(...J)=>{clearTimeout(G),G=setTimeout(()=>D(...J),F)}},b=w({brands:i.value,min_price:l.value,max_price:n.value,sort:v.value,page:c.value,colors:p.value,patterns:g.value,weights:m.value,subcategories:y.value,glues:$.value,mixture_types:_.value,seams:O.value,textures:x.value,sizes:B.value}),u=C(()=>{b.value={brands:i.value,min_price:l.value,max_price:n.value,sort:v.value,page:c.value,colors:p.value,patterns:g.value,weights:m.value,subcategories:y.value,glues:$.value,mixture_types:_.value,seams:O.value,textures:x.value,sizes:B.value}},300);ke(()=>{i.value,l.value,n.value,v.value,c.value,p.value,g.value,m.value,y.value,$.value,_.value,O.value,x.value,B.value,u()});const r=Oe(),{data:k,pending:R,error:ie,refresh:os}=Qe(`${r.public.apiBase}/api/category/${e}/products`,{query:b},"$5tT3ZS0dQJ"),A=T(()=>k.value?.category||null),U=T(()=>k.value?.products||null);H(k,D=>{D&&D.filters&&Object.assign(t.value,D.filters)},{immediate:!0});const ne=D=>{i.value=D.brands,p.value=D.colors||[],g.value=D.patterns||[],m.value=D.weights||[],y.value=D.subcategories||[],$.value=D.glues||[],_.value=D.mixture_types||[],O.value=D.seams||[],x.value=D.textures||[],B.value=D.sizes||[],c.value=1},re=D=>{c.value=D},le=D=>{v.value=D,c.value=1},oe=T(()=>ie.value&&!R.value),Z=T(()=>U.value?.data?{"@context":"https://schema.org","@type":"ItemList",name:A.value?.name||"Категория товаров",description:A.value?.description||"",url:`${r.public.siteUrl}/category/${e}`,numberOfItems:U.value.data.length,itemListElement:U.value.data.map((D,F)=>({"@type":"Product",position:F+1,name:D.name,description:D.description,image:D.image,offers:{"@type":"Offer",price:D.price,priceCurrency:"RUB",availability:D.in_stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}))}:null);return je(T(()=>({title:A.value?.name?`${A.value.name} - Agat Ceramic`:"Категория товаров - Agat Ceramic",meta:[{name:"description",content:A.value?.description||"Купить товары категории в интернет-магазине Agat Ceramic"},{name:"keywords",content:A.value?.name?`${A.value.name}, керамическая плитка, сантехника`:"керамическая плитка, сантехника"}],link:[{rel:"canonical",href:`${r.public.siteUrl}/category/${e}`}],script:Z.value?[{type:"application/ld+json",children:JSON.stringify(Z.value)}]:[]}))),(D,F)=>{const G=et,J=Pe,ce=It;return f(),h("main",Nt,[o("div",Lt,[o("div",qt,[o("div",Gt,[o("div",Vt,[o("div",Ht,[A.value?(f(),h("h1",Jt,S(A.value.name),1)):P("",!0),A.value?(f(),h("p",Qt,S(A.value.description),1)):P("",!0)]),Y(G,{"onUpdate:sortOption":le})]),W(R)?(f(),h("div",Wt," Загрузка товаров... ")):oe.value?(f(),h("div",Zt,[...F[0]||(F[0]=[o("h2",null,[Q("Произошла ошибка при загрузке товаров."),o("br"),Q("Попробуйте перезагрузить страницу.")],-1)])])):!U.value||!U.value.data||U.value.data.length===0?(f(),h("div",Xt,[...F[1]||(F[1]=[o("h2",null,"Список товаров пуст",-1)])])):(f(),h("div",Yt,[o("div",Kt,[o("div",es,[o("div",ts,[o("div",ss,[o("div",as,[(f(!0),h(j,null,E(U.value.data,I=>(f(),ze(J,{key:I.id,product:I},null,8,["product"]))),128))])])])])]),U.value.last_page>1?(f(),h("nav",is,[o("ul",ns,[(f(!0),h(j,null,E(U.value.last_page,I=>(f(),h("li",{key:I,class:Se(["page-item",{active:U.value.current_page===I}])},[o("a",{class:"page-link",href:"#",onClick:z(cs=>re(I),["prevent"])},S(I),9,rs)],2))),128))])])):P("",!0)]))]),Y(ce,{initialFilters:t.value,"onUpdate:filters":ne},null,8,["initialFilters"])])])])}}},vs=te(ls,[["__scopeId","data-v-f6ba638d"]]);export{vs as default};
