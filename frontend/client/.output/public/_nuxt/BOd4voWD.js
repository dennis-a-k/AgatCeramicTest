import{_ as w}from"./D7avEDMr.js";import{_ as $,B as I,r as B,o as N,d as y,A as S,x as v,f as l,i,j as t,e as c,u as m,g as u,q as A,y as g,F as U,k as F,t as a,C as L,s as R}from"#entry";const j={class:"cart-main-area pb-100px pt-100px"},O={class:"container"},V={class:"row"},D={key:1},E={key:0,class:"col-md-12"},M={class:"empty-text-contant text-center"},P={key:1,class:"col-lg-12 col-md-12 col-sm-12 col-12"},Q={class:"table-content table-responsive cart-table-content"},T=["data-product-id"],H={class:"product-thumbnail px-2"},J={class:"image"},z=["src","alt"],G={class:"product-name"},K={class:"product-price-cart"},W={class:"amount"},X={class:"product-quantity"},Y={class:"cart-plus-minus"},Z=["for"],tt=["onClick","disabled"],st=["id","value","onInput"],nt=["onClick"],ot={class:"product-subtotal"},et={class:"product-remove"},lt=["onClick"],at={class:"cart-total"},it={class:"row"},ct={class:"col-lg-12"},rt={class:"cart-shiping-update-wrapper justify-content-end"},dt={class:"cart-clear"},ut={__name:"index",setup(pt){const e=I(),x=R(),f=B(!0);N(()=>{setTimeout(()=>{f.value=!1},500)});const k=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}),p=o=>k.format(o),b=o=>{e.removeFromCart(o)},_=(o,s)=>{e.updateQuantity(o,Math.max(1,s))},h=y(()=>e.items.length===0?null:{"@context":"https://schema.org","@type":"ItemList",name:"Корзина покупок",itemListElement:e.items.map((o,s)=>({"@type":"Product",position:s+1,name:o.title,image:o.image,offers:{"@type":"Offer",price:o.price,priceCurrency:"RUB",availability:"https://schema.org/InStock"}}))});return S(y(()=>({title:"Корзина - AgatCeramic",meta:[{name:"description",content:"Ваша корзина покупок в интернет-магазине AgatCeramic"},{name:"keywords",content:"корзина, покупки, AgatCeramic"},{name:"robots",content:"noindex, nofollow"}],link:[{rel:"canonical",href:`${x.public.siteUrl}/cart`}],script:h.value?[{type:"application/ld+json",children:JSON.stringify(h.value)}]:[]}))),(o,s)=>{const C=w,r=A,q=L;return l(),v(q,null,{default:i(()=>[t("main",j,[t("div",O,[t("div",V,[f.value?(l(),v(C,{key:0,text:"Загрузка корзины..."})):(l(),c("div",D,[m(e).items.length===0?(l(),c("div",E,[t("div",M,[s[1]||(s[1]=t("i",{class:"pe-7s-cart"},null,-1)),s[2]||(s[2]=t("h3",null,"Ваша корзина пуста",-1)),u(r,{to:"/",class:"empty-cart-btn"},{default:i(()=>[...s[0]||(s[0]=[t("i",{class:"fa fa-arrow-left"},null,-1),g(" Перети к покупкам ",-1)])]),_:1})])])):(l(),c("div",P,[t("div",Q,[t("table",null,[s[9]||(s[9]=t("thead",null,[t("tr",null,[t("th"),t("th",null,"Товар"),t("th",null,"Цена"),t("th",null,"Количество"),t("th"),t("th",null,"Стоимость"),t("th")])],-1)),t("tbody",null,[(l(!0),c(U,null,F(m(e).items,n=>(l(),c("tr",{key:n.id,"data-product-id":n.id},[t("td",H,[t("div",J,[u(r,{to:`/product/${n.slug}`},{default:i(()=>[t("img",{src:n.image,alt:n.title,class:"img-responsive"},null,8,z)]),_:2},1032,["to"])])]),t("td",G,[u(r,{to:`/product/${n.slug}`,class:"lh-1"},{default:i(()=>[t("p",null,a(n.title)+a(n.weight_kg?`, ${n.weight_kg}кг`:""),1)]),_:2},1032,["to"])]),t("td",K,[t("span",W,a(p(n.price)),1)]),t("td",X,[t("div",Y,[t("label",{for:`quantity${n.id}`,class:"d-none"},null,8,Z),t("div",{class:"dec qtybutton",onClick:d=>_(n.id,n.quantity-1),disabled:n.quantity<=1}," - ",8,tt),t("input",{id:`quantity${n.id}`,class:"cart-plus-minus-box",type:"text",value:n.quantity,onInput:d=>_(n.id,parseInt(d.target.value)||1),min:"1"},null,40,st),t("div",{class:"inc qtybutton",onClick:d=>_(n.id,n.quantity+1)}," + ",8,nt)])]),t("td",null,a(n.unit==="шт"?"шт.":n.unit==="кв.м"?"м²":n.unit),1),t("td",ot,a(p(n.price*n.quantity)),1),t("td",et,[t("a",{href:"#",onClick:d=>b(n.id)},[...s[3]||(s[3]=[t("i",{class:"fa fa-times"},null,-1)])],8,lt)])],8,T))),128))]),t("tfoot",null,[t("tr",null,[s[4]||(s[4]=t("td",null,null,-1)),s[5]||(s[5]=t("td",null,null,-1)),s[6]||(s[6]=t("td",null,null,-1)),s[7]||(s[7]=t("th",{colspan:"2"},"Общая стоимость:",-1)),t("th",at,a(p(m(e).total)),1),s[8]||(s[8]=t("td",null,null,-1))])])])]),t("div",it,[t("div",ct,[t("div",rt,[t("div",dt,[u(r,{to:"/checkout"},{default:i(()=>[...s[10]||(s[10]=[g("Оформить заказ",-1)])]),_:1})])])])])]))]))])])])]),_:1})}}},ft=$(ut,[["__scopeId","data-v-1a18d719"]]);export{ft as default};
