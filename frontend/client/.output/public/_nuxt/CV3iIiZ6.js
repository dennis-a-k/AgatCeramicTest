import{_ as x}from"./J-T6rV--.js";import{_ as b,z as C,r as q,f as w,y,o,w as i,a as t,c,u as m,b as r,e as B,d as v,F as I,m as N,t as l,A as $}from"#entry";const F={class:"cart-page"},S={class:"container"},V={key:1},A={key:0,class:"empty-cart"},L={key:1,class:"cart-content"},M={class:"cart-items"},Q={class:"item-image"},T=["src","alt"],z={class:"item-details"},D={class:"item-title"},E={class:"item-weight"},O={class:"item-price"},P={class:"item-quantity"},U={class:"quantity-controls"},j=["onClick","disabled"],G=["value","onInput"],H=["onClick"],J={class:"item-total"},K={class:"item-remove"},R=["onClick"],W={class:"cart-summary"},X={class:"summary-row"},Y={class:"total-amount"},Z={__name:"index",setup(tt){const a=C(),h=q(!0);w(()=>{setTimeout(()=>{h.value=!1},500)});const u=n=>Number(n).toFixed(2).replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g," "),k=n=>{a.removeFromCart(n)},p=(n,e)=>{a.updateQuantity(n,Math.max(1,e))};return(n,e)=>{const f=x,d=B,g=$;return o(),y(g,null,{default:i(()=>[t("div",F,[t("div",S,[h.value?(o(),y(f,{key:0,text:"Загрузка корзины..."})):(o(),c("div",V,[e[4]||(e[4]=t("h1",{class:"page-title"},"Корзина",-1)),m(a).items.length===0?(o(),c("div",A,[e[1]||(e[1]=t("p",null,"Ваша корзина пуста",-1)),r(d,{to:"/",class:"btn"},{default:i(()=>[...e[0]||(e[0]=[v("Вернуться к покупкам",-1)])]),_:1})])):(o(),c("div",L,[t("div",M,[(o(!0),c(I,null,N(m(a).items,s=>(o(),c("div",{key:s.id,class:"cart-item"},[t("div",Q,[r(d,{to:`/product/${s.id}`},{default:i(()=>[t("img",{src:s.image,alt:s.title},null,8,T)]),_:2},1032,["to"])]),t("div",z,[t("h3",D,[r(d,{to:`/product/${s.id}`},{default:i(()=>[v(l(s.title),1)]),_:2},1032,["to"])]),t("p",E,l(s.weight_kg)+" кг",1),t("div",O,l(u(s.price))+" ₽",1)]),t("div",P,[t("div",U,[t("button",{onClick:_=>p(s.id,s.quantity-1),disabled:s.quantity<=1},"-",8,j),t("input",{type:"number",value:s.quantity,onInput:_=>p(s.id,parseInt(_.target.value)||1),min:"1"},null,40,G),t("button",{onClick:_=>p(s.id,s.quantity+1)},"+",8,H)])]),t("div",J,l(u(s.price*s.quantity))+" ₽ ",1),t("div",K,[t("button",{onClick:_=>k(s.id),class:"remove-btn"},"×",8,R)])]))),128))]),t("div",W,[t("div",X,[e[2]||(e[2]=t("span",null,"Итого:",-1)),t("span",Y,l(u(m(a).total))+" ₽",1)]),r(d,{to:"/checkout",class:"btn checkout-btn"},{default:i(()=>[...e[3]||(e[3]=[v("Оформить заказ",-1)])]),_:1})])]))]))])])]),_:1})}}},ot=b(Z,[["__scopeId","data-v-1949312e"]]);export{ot as default};
