import{_ as q}from"./J-T6rV--.js";import{_ as I,z as $,r as B,f as N,j as y,y as v,o as l,w as i,a as t,c,u as m,b as u,e as S,d as g,F as A,m as U,t as a,A as F,v as L}from"#entry";import{u as R}from"./D8KdIBb5.js";const j={class:"cart-main-area pb-100px pt-100px"},O={class:"container"},V={class:"row"},D={key:1},E={key:0,class:"col-md-12"},M={class:"empty-text-contant text-center"},P={key:1,class:"col-lg-12 col-md-12 col-sm-12 col-12"},Q={class:"table-content table-responsive cart-table-content"},T=["data-product-id"],z={class:"product-thumbnail px-2"},H={style:{"aspect-ratio":"1 / 1",overflow:"hidden"}},J=["src","alt"],G={class:"product-name"},K={class:"product-price-cart"},W={class:"amount"},X={class:"product-quantity"},Y={class:"cart-plus-minus"},Z=["onClick","disabled"],tt=["value","onInput"],st=["onClick"],nt={class:"product-subtotal"},ot={class:"product-remove"},et=["onClick"],lt={class:"cart-total"},at={class:"row"},it={class:"col-lg-12"},ct={class:"cart-shiping-update-wrapper justify-content-end"},rt={class:"cart-clear"},dt={__name:"index",setup(ut){const e=$(),x=L(),f=B(!0);N(()=>{setTimeout(()=>{f.value=!1},500)});const k=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}),p=o=>k.format(o),b=o=>{e.removeFromCart(o)},_=(o,s)=>{e.updateQuantity(o,Math.max(1,s))},h=y(()=>e.items.length===0?null:{"@context":"https://schema.org","@type":"ItemList",name:"Корзина покупок",itemListElement:e.items.map((o,s)=>({"@type":"Product",position:s+1,name:o.title,image:o.image,offers:{"@type":"Offer",price:o.price,priceCurrency:"RUB",availability:"https://schema.org/InStock"}}))});return R(y(()=>({title:"Корзина - AgatCeramic",meta:[{name:"description",content:"Ваша корзина покупок в интернет-магазине AgatCeramic"},{name:"keywords",content:"корзина, покупки, AgatCeramic"},{name:"robots",content:"noindex, nofollow"}],link:[{rel:"canonical",href:`${x.public.siteUrl}/cart`}],script:h.value?[{type:"application/ld+json",children:JSON.stringify(h.value)}]:[]}))),(o,s)=>{const C=q,r=S,w=F;return l(),v(w,null,{default:i(()=>[t("main",j,[t("div",O,[t("div",V,[f.value?(l(),v(C,{key:0,text:"Загрузка корзины..."})):(l(),c("div",D,[m(e).items.length===0?(l(),c("div",E,[t("div",M,[s[1]||(s[1]=t("i",{class:"pe-7s-cart"},null,-1)),s[2]||(s[2]=t("h3",null,"Ваша корзина пуста",-1)),u(r,{to:"/",class:"empty-cart-btn"},{default:i(()=>[...s[0]||(s[0]=[t("i",{class:"fa fa-arrow-left"},null,-1),g(" Перети к покупкам ",-1)])]),_:1})])])):(l(),c("div",P,[t("div",Q,[t("table",null,[s[9]||(s[9]=t("thead",null,[t("tr",null,[t("th"),t("th",null,"Товар"),t("th",null,"Цена"),t("th",null,"Количество"),t("th"),t("th",null,"Стоимость"),t("th")])],-1)),t("tbody",null,[(l(!0),c(A,null,U(m(e).items,n=>(l(),c("tr",{key:n.id,"data-product-id":n.id},[t("td",z,[t("div",H,[u(r,{to:`/product/${n.slug}`},{default:i(()=>[t("img",{src:n.image,alt:n.title,class:"img-responsive"},null,8,J)]),_:2},1032,["to"])])]),t("td",G,[u(r,{to:`/product/${n.slug}`,class:"lh-1"},{default:i(()=>[t("p",null,a(n.title)+a(n.weight_kg?`, ${n.weight_kg} кг`:""),1)]),_:2},1032,["to"])]),t("td",K,[t("span",W,a(p(n.price)),1)]),t("td",X,[t("div",Y,[t("div",{class:"dec qtybutton",onClick:d=>_(n.id,n.quantity-1),disabled:n.quantity<=1},"-",8,Z),t("input",{class:"cart-plus-minus-box",type:"text",value:n.quantity,onInput:d=>_(n.id,parseInt(d.target.value)||1),min:"1"},null,40,tt),t("div",{class:"inc qtybutton",onClick:d=>_(n.id,n.quantity+1)},"+",8,st)])]),t("td",null,a(n.unit==="шт"?"шт.":n.unit==="кв.м"?"м²":n.unit),1),t("td",nt,a(p(n.price*n.quantity)),1),t("td",ot,[t("a",{href:"#",onClick:d=>b(n.id)},[...s[3]||(s[3]=[t("i",{class:"fa fa-times"},null,-1)])],8,et)])],8,T))),128))]),t("tfoot",null,[t("tr",null,[s[4]||(s[4]=t("td",null,null,-1)),s[5]||(s[5]=t("td",null,null,-1)),s[6]||(s[6]=t("td",null,null,-1)),s[7]||(s[7]=t("th",{colspan:"2"},"Общая стоимость:",-1)),t("th",lt,a(p(m(e).total)),1),s[8]||(s[8]=t("td",null,null,-1))])])])]),t("div",at,[t("div",it,[t("div",ct,[t("div",rt,[u(r,{to:"/checkout"},{default:i(()=>[...s[10]||(s[10]=[g("Оформить заказ",-1)])]),_:1})])])])])]))]))])])])]),_:1})}}},ft=I(dt,[["__scopeId","data-v-fe3e2469"]]);export{ft as default};
