import{_ as q}from"./J-T6rV--.js";import{_ as $,z as N,r as B,f as S,j as y,y as v,o as l,w as c,a as t,c as i,u as m,b as r,e as A,d as g,F as U,m as F,t as a,A as L,v as R}from"#entry";import{_ as j}from"./BROWsude.js";import{u as O}from"./e-3Jczw9.js";const V={class:"cart-main-area pb-100px pt-100px"},D={class:"container"},E={class:"row"},M={key:1},P={key:0,class:"col-md-12"},Q={class:"empty-text-contant text-center"},T={key:1,class:"col-lg-12 col-md-12 col-sm-12 col-12"},z={class:"table-content table-responsive cart-table-content"},H=["data-product-id"],J={class:"product-thumbnail px-2"},G={style:{"aspect-ratio":"1 / 1",overflow:"hidden"}},K={class:"product-name"},W={class:"product-price-cart"},X={class:"amount"},Y={class:"product-quantity"},Z={class:"cart-plus-minus"},tt=["onClick","disabled"],st=["value","onInput"],nt=["onClick"],ot={class:"product-subtotal"},et={class:"product-remove"},lt=["onClick"],at={class:"cart-total"},ct={class:"row"},it={class:"col-lg-12"},rt={class:"cart-shiping-update-wrapper justify-content-end"},ut={class:"cart-clear"},dt={__name:"index",setup(pt){const e=N(),x=R(),f=B(!0);S(()=>{setTimeout(()=>{f.value=!1},500)});const k=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}),p=o=>k.format(o),b=o=>{e.removeFromCart(o)},_=(o,s)=>{e.updateQuantity(o,Math.max(1,s))},h=y(()=>e.items.length===0?null:{"@context":"https://schema.org","@type":"ItemList",name:"Корзина покупок",itemListElement:e.items.map((o,s)=>({"@type":"Product",position:s+1,name:o.title,image:o.image,offers:{"@type":"Offer",price:o.price,priceCurrency:"RUB",availability:"https://schema.org/InStock"}}))});return O(y(()=>({title:"Корзина - AgatCeramic",meta:[{name:"description",content:"Ваша корзина покупок в интернет-магазине AgatCeramic"},{name:"keywords",content:"корзина, покупки, AgatCeramic"},{name:"robots",content:"noindex, nofollow"}],link:[{rel:"canonical",href:`${x.public.siteUrl}/cart`}],script:h.value?[{type:"application/ld+json",children:JSON.stringify(h.value)}]:[]}))),(o,s)=>{const C=q,u=A,w=j,I=L;return l(),v(I,null,{default:c(()=>[t("main",V,[t("div",D,[t("div",E,[f.value?(l(),v(C,{key:0,text:"Загрузка корзины..."})):(l(),i("div",M,[m(e).items.length===0?(l(),i("div",P,[t("div",Q,[s[1]||(s[1]=t("i",{class:"pe-7s-cart"},null,-1)),s[2]||(s[2]=t("h3",null,"Ваша корзина пуста",-1)),r(u,{to:"/",class:"empty-cart-btn"},{default:c(()=>[...s[0]||(s[0]=[t("i",{class:"fa fa-arrow-left"},null,-1),g(" Перети к покупкам ",-1)])]),_:1})])])):(l(),i("div",T,[t("div",z,[t("table",null,[s[9]||(s[9]=t("thead",null,[t("tr",null,[t("th"),t("th",null,"Товар"),t("th",null,"Цена"),t("th",null,"Количество"),t("th"),t("th",null,"Стоимость"),t("th")])],-1)),t("tbody",null,[(l(!0),i(U,null,F(m(e).items,n=>(l(),i("tr",{key:n.id,"data-product-id":n.id},[t("td",J,[t("div",G,[r(u,{to:`/product/${n.slug}`},{default:c(()=>[r(w,{src:n.image,alt:n.title,class:"img-responsive"},null,8,["src","alt"])]),_:2},1032,["to"])])]),t("td",K,[r(u,{to:`/product/${n.slug}`,class:"lh-1"},{default:c(()=>[t("p",null,a(n.title)+a(n.weight_kg?`, ${n.weight_kg} кг`:""),1)]),_:2},1032,["to"])]),t("td",W,[t("span",X,a(p(n.price)),1)]),t("td",Y,[t("div",Z,[t("div",{class:"dec qtybutton",onClick:d=>_(n.id,n.quantity-1),disabled:n.quantity<=1},"-",8,tt),t("input",{class:"cart-plus-minus-box",type:"text",value:n.quantity,onInput:d=>_(n.id,parseInt(d.target.value)||1),min:"1"},null,40,st),t("div",{class:"inc qtybutton",onClick:d=>_(n.id,n.quantity+1)},"+",8,nt)])]),t("td",null,a(n.unit==="шт"?"шт.":n.unit==="кв.м"?"м²":n.unit),1),t("td",ot,a(p(n.price*n.quantity)),1),t("td",et,[t("a",{href:"#",onClick:d=>b(n.id)},[...s[3]||(s[3]=[t("i",{class:"fa fa-times"},null,-1)])],8,lt)])],8,H))),128))]),t("tfoot",null,[t("tr",null,[s[4]||(s[4]=t("td",null,null,-1)),s[5]||(s[5]=t("td",null,null,-1)),s[6]||(s[6]=t("td",null,null,-1)),s[7]||(s[7]=t("th",{colspan:"2"},"Общая стоимость:",-1)),t("th",at,a(p(m(e).total)),1),s[8]||(s[8]=t("td",null,null,-1))])])])]),t("div",ct,[t("div",it,[t("div",rt,[t("div",ut,[r(u,{to:"/checkout"},{default:c(()=>[...s[10]||(s[10]=[g("Оформить заказ",-1)])]),_:1})])])])])]))]))])])])]),_:1})}}},yt=$(dt,[["__scopeId","data-v-ea829f65"]]);export{yt as default};
