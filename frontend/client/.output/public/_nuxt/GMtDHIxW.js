import{_ as B}from"./J-T6rV--.js";import{_ as N}from"./ww_-Y0A0.js";import{_ as S,A as C,j as l,c as n,a as e,y as V,s as u,u as s,d as c,b as p,t as r,w as f,F as A,m as I,v as R,e as U,o}from"#entry";import{u as D}from"./BywlaP_j.js";import{u as O}from"./CJMkGcWf.js";const F={class:"product-details-area pt-100px pb-100px"},j={class:"container"},E={key:1,class:"error text-center mt-5"},L={key:2,class:"text-center mt-5"},P={key:3,class:"row"},z={class:"col-lg-6 col-md-12"},H={class:"product-details-img"},J={class:"tab-content"},M={class:"tab-pane fade show active",id:"product-1"},T={class:"col-lg-6 col-md-12"},q={class:"product-details-content"},G={class:"product-details-price"},K={class:"price"},Q={class:"product-details-description"},W={class:"product-details-meta"},X={key:0},Y={key:1},Z={key:2},tt={key:3},et={key:4,class:"row mt-5"},st={class:"col-12"},at={class:"table table-striped"},ot={__name:"[slug]",setup(nt){const d=C().params.slug,m=R(),{data:t,pending:_,error:b,execute:ct}=D(`product-${d}`,()=>$fetch(`${m.public.apiBase}/api/products/slug/${d}`),{immediate:!0}),h=l(()=>b.value&&!_.value),v=l(()=>t.value?.imgSrc&&t.value.imgSrc.trim()!==""?t.value.imgSrc:"/images/stock/stock-image.png"),k=l(()=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(t.value?.price||0)),g=l(()=>t.value?{"@context":"https://schema.org","@type":"Product",name:t.value.name,description:t.value.description,image:v.value,offers:{"@type":"Offer",price:t.value.price,priceCurrency:"RUB",availability:t.value.in_stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"},brand:t.value.brand?{"@type":"Brand",name:t.value.brand.name}:void 0,category:t.value.category?t.value.category.name:void 0}:null);return O(l(()=>({title:t.value?.name?`${t.value.name} - AgatCeramic`:"Товар - AgatCeramic",meta:[{name:"description",content:t.value?.description||"Купить товар в интернет-магазине AgatCeramic"},{name:"keywords",content:t.value?.name?`${t.value.name}, керамическая плитка, сантехника`:"керамическая плитка, сантехника"}],link:[{rel:"canonical",href:`${m.public.siteUrl}/product/${d}`}],script:g.value?[{type:"application/ld+json",children:JSON.stringify(g.value)}]:[]}))),(x,a)=>{const $=B,w=N,y=U;return o(),n("main",F,[e("div",j,[s(_)?(o(),V($,{key:0,text:"Загрузка товара..."})):h.value?(o(),n("div",E,[...a[0]||(a[0]=[e("h2",null,[c("Произошла ошибка при загрузке товара."),e("br"),c("Попробуйте перезагрузить страницу.")],-1)])])):s(t)?(o(),n("div",P,[e("div",z,[e("div",H,[e("div",J,[e("div",M,[p(w,{src:v.value,alt:s(t).name,class:"zoompro"},null,8,["src","alt"])])])])]),e("div",T,[e("div",q,[e("h2",null,r(s(t).name),1),e("div",G,[e("span",K,r(k.value),1)]),e("div",Q,[e("p",null,r(s(t).description),1)]),e("div",W,[s(t).category?(o(),n("span",X,[a[2]||(a[2]=c("Категория: ",-1)),p(y,{to:`/category/${s(t).category.slug}`},{default:f(()=>[c(r(s(t).category.name),1)]),_:1},8,["to"])])):u("",!0),s(t).brand?(o(),n("span",Y,[a[3]||(a[3]=c("Бренд: ",-1)),p(y,{to:`/brand/${s(t).brand.slug}`},{default:f(()=>[c(r(s(t).brand.name),1)]),_:1},8,["to"])])):u("",!0),s(t).article?(o(),n("span",Z,"Артикул: "+r(s(t).article),1)):u("",!0),s(t).product_code?(o(),n("span",tt,"Код товара: "+r(s(t).product_code),1)):u("",!0)]),a[4]||(a[4]=e("div",{class:"product-details-action"},[e("button",{class:"btn btn-primary"},"Добавить в корзину")],-1))])])])):(o(),n("div",L,[...a[1]||(a[1]=[e("h2",null,"Товар не найден",-1)])])),s(t)&&s(t).attributeValues&&s(t).attributeValues.length>0?(o(),n("div",et,[e("div",st,[a[5]||(a[5]=e("h3",null,"Характеристики",-1)),e("table",at,[e("tbody",null,[(o(!0),n(A,null,I(s(t).attributeValues,i=>(o(),n("tr",{key:i.id},[e("td",null,r(i.attribute.name),1),e("td",null,r(i.string_value||i.number_value||i.boolean_value?"Да":"Нет"),1)]))),128))])])])])):u("",!0)])])}}},mt=S(ot,[["__scopeId","data-v-ceccfe60"]]);export{mt as default};
