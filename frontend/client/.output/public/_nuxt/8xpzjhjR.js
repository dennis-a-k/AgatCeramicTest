import{C as E,r as h,d as A,s as F,_ as b,V as U,o as x,e as u,f as _,j as t,g as n,i as c,y as r,q as S,E as M,u as d,t as $,G as P,w as R,L as H,m as B,M as Y,a2 as K,F as C,k as I,A as T,O as W,p as G,P as Q,U as Z,a3 as J}from"#entry";import{_ as q}from"./CZPl1YXa.js";const X={phone:"",email:"",telegram:"",whatsapp:"",organization:"",adress:"",inn:"",ogrn:""},D=E("siteInfo",()=>{const p=h(null),i=h(!1),l=h(null),s=F(),a=async()=>{if(p.value)return p.value;i.value=!0,l.value=null;try{const o=await $fetch(`${s.public.apiBase}/api/client/information`);return p.value=o,o}catch(o){throw l.value="Не удалось загрузить информацию о сайте",o}finally{i.value=!1}},e=o=>A(()=>p.value?.[o]||X[o]);return{siteInfo:A(()=>p.value),isLoading:A(()=>i.value),error:A(()=>l.value),fetchSiteInfo:a,getFormattedPhone:e("phone"),getEmail:e("email"),getTelegram:e("telegram"),getWhatsapp:e("whatsapp"),getOrganization:e("organization"),getAdress:e("adress"),getInn:e("inn"),getOgrn:e("ogrn")}}),tt={class:"header-top"},et={class:"container"},ot={class:"row justify-content-between align-items-center"},st={class:"col d-none d-lg-block ps-0"},nt={class:"top-nav"},at=["href"],lt=["href"],it={__name:"HeaderAppHeaderTop",setup(p){const i=U("openCallModal"),l=D();return x(async()=>{try{await l.fetchSiteInfo()}catch(s){console.error("Failed to load site info:",s)}}),(s,a)=>{const e=S;return _(),u("div",tt,[t("div",et,[t("div",ot,[a[5]||(a[5]=t("div",{class:"col-auto"},[t("div",{class:"welcome-text"},[t("p",null,"Москва (Пн.-Пт. 10:00-18:00)")])],-1)),t("div",st,[t("div",nt,[t("ul",null,[t("li",null,[n(e,{to:"/delivery"},{default:c(()=>[...a[1]||(a[1]=[r("Оплата и доставка",-1)])]),_:1})]),t("li",null,[n(e,{to:"/return"},{default:c(()=>[...a[2]||(a[2]=[r("Возврат и замена",-1)])]),_:1})]),t("li",null,[t("a",{href:"#",class:"modal-call",onClick:a[0]||(a[0]=M((...o)=>d(i)&&d(i)(...o),["prevent"]))},"Заказать звонок")]),t("li",null,[t("a",{href:"tel:"+d(l).getFormattedPhone},[a[3]||(a[3]=t("i",{class:"fa fa-phone"},null,-1)),r(" "+$(d(l).getFormattedPhone),1)],8,at)]),t("li",null,[t("a",{href:"mailto:"+d(l).getEmail},[a[4]||(a[4]=t("i",{class:"fa fa-envelope-o"},null,-1)),r(" "+$(d(l).getEmail),1)],8,lt)])])])])])])])}}},rt=b(it,[["__scopeId","data-v-4b7bed63"]]),ct={class:"search-element"},dt={key:0,class:"suggestions-dropdown"},ut=["onMousedown"],_t={__name:"UiSearchForm",setup(p){const i=P(),l=h(""),s=h([]),a=h(!1),e=h(null),o=F(),f=((w,g)=>{let k;return function(...V){const O=()=>{clearTimeout(k),w(...V)};clearTimeout(k),k=setTimeout(O,g)}})(async w=>{if(w.length<2){s.value=[];return}try{const g=await $fetch(`${o.public.apiBase}/api/search/quick?query=${encodeURIComponent(w)}`);s.value=g.results}catch(g){console.error("Ошибка при получении подсказок:",g),s.value=[]}},300),v=()=>{f(l.value)},y=w=>{l.value=w.article,a.value=!1,N()},L=()=>{setTimeout(()=>{a.value=!1},150)},N=async()=>{l.value.trim()&&(a.value=!1,i.push({path:"/search",query:{q:l.value.trim()}}),l.value="")};return R(()=>i.currentRoute.value,()=>{s.value=[],a.value=!1}),x(()=>{e.value&&e.value.focus()}),(w,g)=>(_(),u("div",ct,[t("form",{onSubmit:M(N,["prevent"])},[g[2]||(g[2]=t("label",{for:"searchMain",class:"d-none"},null,-1)),H(t("input",{type:"text",placeholder:"Поиск","onUpdate:modelValue":g[0]||(g[0]=k=>l.value=k),onInput:v,onKeyup:K(N,["enter"]),onFocus:g[1]||(g[1]=k=>a.value=!0),onBlur:L,ref_key:"searchInput",ref:e,id:"searchMain"},null,544),[[Y,l.value]]),g[3]||(g[3]=t("button",{type:"submit"},[t("i",{class:"pe-7s-search"})],-1)),a.value&&s.value.length>0?(_(),u("div",dt,[(_(!0),u(C,null,I(s.value,k=>(_(),u("div",{key:k.id,class:"suggestion-item",onMousedown:z=>y(k)},$(k.display_text),41,ut))),128))])):B("",!0)],32)]))}},j=b(_t,[["__scopeId","data-v-7f24c244"]]),pt={class:"header-bottom d-none d-lg-block"},ft={class:"container"},mt={class:"row justify-content-between align-items-center"},vt={class:"col-lg-3 col"},gt={class:"header-logo"},ht={class:"col-lg-6 d-none d-lg-block"},$t={class:"col-lg-3 col"},yt={class:"header-actions"},kt={href:"#offcanvas-cart",class:"header-action-btn header-action-btn-cart offcanvas-toggle pr-0"},bt={key:0,class:"header-action-num"},wt={__name:"HeaderAppHeaderBottom",setup(p){const i=T();return(l,s)=>{const a=q,e=S,o=j;return _(),u("div",pt,[t("div",ft,[t("div",mt,[t("div",vt,[t("div",gt,[n(e,{to:"/",class:"row align-items-center"},{default:c(()=>[n(a,{src:"/images/logo.svg",class:"col-3 pe-0",alt:"Site Logo"}),s[0]||(s[0]=t("p",{class:"col-9"},[r("Agat"),t("span",null,"Ceramic")],-1))]),_:1})])]),t("div",ht,[n(o)]),t("div",$t,[t("div",yt,[t("a",kt,[t("div",null,[s[1]||(s[1]=t("span",null,"Корзина",-1)),s[2]||(s[2]=t("i",{class:"pe-7s-cart"},null,-1)),d(i).itemCount>0?(_(),u("span",bt,$(d(i).itemCount),1)):B("",!0)]),s[3]||(s[3]=t("span",{class:"header-action-order"},"Оформить заказ",-1))])])])])])])}}},xt=b(wt,[["__scopeId","data-v-7543ad4a"]]),St={},Ct={class:"mobile-search-box d-lg-none"},At={class:"container"};function It(p,i){const l=j;return _(),u("div",Ct,[t("div",At,[n(l)])])}const Lt=Object.assign(b(St,[["render",It],["__scopeId","data-v-fdb6fd5a"]]),{__name:"UiSearchMobileForm"}),Nt={class:"header-bottom d-lg-none sticky-nav style-1"},Ft={class:"container"},Mt={class:"row justify-content-between align-items-center"},Bt={class:"col-lg-3 col"},Et={class:"header-logo"},Ut={class:"col-lg-3 col"},Ht={class:"header-actions"},Tt={href:"#offcanvas-cart",class:"header-action-btn header-action-btn-cart offcanvas-toggle pr-0"},qt={key:0,class:"header-action-num"},Dt={__name:"HeaderAppHeaderBottomMobile",setup(p){const i=T();return(l,s)=>{const a=q,e=S,o=Lt;return _(),u(C,null,[t("div",Nt,[t("div",Ft,[t("div",Mt,[t("div",Bt,[t("div",Et,[n(e,{to:"/",class:"row align-items-center"},{default:c(()=>[n(a,{src:"/images/logo.svg",class:"col-3 pe-0",alt:"Site Logo"}),s[0]||(s[0]=t("p",{class:"col-9"},[r("Agat"),t("span",null,"Ceramic")],-1))]),_:1})])]),t("div",Ut,[t("div",Ht,[t("a",Tt,[s[1]||(s[1]=t("i",{class:"pe-7s-cart"},null,-1)),d(i).itemCount>0?(_(),u("span",qt,$(d(i).itemCount),1)):B("",!0)]),s[2]||(s[2]=t("a",{href:"#offcanvas-mobile-menu",class:"header-action-btn header-action-btn-menu offcanvas-toggle d-lg-none"},[t("i",{class:"pe-7s-menu"})],-1))])])])])]),n(o)],64)}}},jt=b(Dt,[["__scopeId","data-v-dcb6b4e2"]]),zt={class:"header-nav-area d-none d-lg-block sticky-nav"},Vt={class:"container"},Ot={class:"header-nav"},Pt={class:"main-menu position-relative"},Rt={class:"dropdown"},Yt={class:"sub-menu"},Kt={class:"dropdown position-static"},Wt={class:"sub-menu sub-menu-2"},Gt={class:"dropdown"},Qt={class:"sub-menu"},Zt={__name:"NavbarAppNavbar",setup(p){const i=h(null),l=W();return G("openCallModal",()=>{i.value&&i.value.openModal()}),x(()=>{const a=document.querySelector(".offcanvas-overlay");document.querySelectorAll(".offcanvas-overlay").forEach(e=>{e.addEventListener("click",function(o){o.preventDefault(),document.body.classList.remove("offcanvas-open"),document.querySelectorAll(".offcanvas").forEach(m=>{m.classList.remove("offcanvas-open")}),a.style.display="none"})}),l.fetchSantexnikaSubcategories()}),(a,e)=>{const o=S;return _(),u("nav",zt,[t("div",Vt,[t("div",Ot,[t("div",Pt,[t("ul",null,[t("li",Rt,[e[5]||(e[5]=t("a",{href:"#"},[r(" Каталог "),t("i",{class:"fa fa-angle-down"})],-1)),t("ul",Yt,[t("li",null,[n(o,{to:"/category/klinker"},{default:c(()=>[...e[0]||(e[0]=[r("Клинкер",-1)])]),_:1})]),t("li",null,[n(o,{to:"/category/stupeni"},{default:c(()=>[...e[1]||(e[1]=[r("Ступени",-1)])]),_:1})]),t("li",null,[n(o,{to:"/category/zatirka-dlia-plitki"},{default:c(()=>[...e[2]||(e[2]=[r("Затирка для плитки",-1)])]),_:1})]),t("li",null,[n(o,{to:"/category/kleevye-smesi"},{default:c(()=>[...e[3]||(e[3]=[r("Клеевые смеси",-1)])]),_:1})]),t("li",Kt,[n(o,{to:"/category/santexnika"},{default:c(()=>[...e[4]||(e[4]=[r(" Сантехника ",-1),t("i",{class:"fa fa-angle-right"},null,-1)])]),_:1}),t("ul",Wt,[(_(!0),u(C,null,I(d(l).santexnikaSubcategories,m=>(_(),u("li",{key:m.id},[n(o,{to:`/category/${m.slug}`},{default:c(()=>[r($(m.name),1)]),_:2},1032,["to"])]))),128))])])])]),t("li",Gt,[e[8]||(e[8]=t("a",{href:"#"},[r("Услуги "),t("i",{class:"fa fa-angle-down"})],-1)),t("ul",Qt,[t("li",null,[n(o,{to:"/rezka"},{default:c(()=>[...e[6]||(e[6]=[r("Резка",-1)])]),_:1})]),t("li",null,[n(o,{to:"/rospis"},{default:c(()=>[...e[7]||(e[7]=[r("Роспись плитки",-1)])]),_:1})])])]),t("li",null,[n(o,{to:"/category/keramogranit"},{default:c(()=>[...e[9]||(e[9]=[r("Керамогранит",-1)])]),_:1})]),t("li",null,[n(o,{to:"/category/plitka"},{default:c(()=>[...e[10]||(e[10]=[r("Плитка",-1)])]),_:1})]),t("li",null,[n(o,{to:"/category/mozaika"},{default:c(()=>[...e[11]||(e[11]=[r("Мозаика",-1)])]),_:1})]),t("li",null,[n(o,{to:"/partnerships",target:"_blank"},{default:c(()=>[...e[12]||(e[12]=[r("Дизайнерам",-1)])]),_:1})]),t("li",null,[n(o,{to:"/contacts"},{default:c(()=>[...e[13]||(e[13]=[r("Контакты",-1)])]),_:1})]),t("li",null,[n(o,{to:"/sale",class:"sale"},{default:c(()=>[...e[14]||(e[14]=[r("Распродажа",-1)])]),_:1})])])])])])])}}},Jt=b(Zt,[["__scopeId","data-v-2405c0a2"]]),Xt=E("alphabet",()=>{const p=h([]),i=h({}),l=h(!1),s=h(null),a=F(),e=async()=>{l.value=!0,s.value=null;try{const f=await $fetch(`${a.public.apiBase}/api/brands/categories`);p.value=f,o()}catch(f){s.value=f.message}finally{l.value=!1}},o=()=>{const f={"0-9":[]};for(let v=65;v<=90;v++)f[String.fromCharCode(v)]=[];f.РУС=[],p.value.forEach(v=>{const y=v.name.charAt(0).toUpperCase();/\d/.test(y)?f["0-9"].push(v):/[А-ЯЁ]/.test(y)?f.РУС.push(v):/[A-Z]/.test(y)&&f[y].push(v)}),Object.keys(f).forEach(v=>{f[v].sort((y,L)=>y.name.localeCompare(L.name))}),i.value=f};return{brands:p,groupedBrands:i,loading:l,error:s,fetchBrands:e,getBrandUrl:f=>`/brand/${f.slug}`}}),te={class:"nav-alphabet d-none d-lg-block"},ee={class:"container"},oe={class:"second-menu position-relative"},se={key:0},ne={href:"#"},ae={class:"mega-menu"},le={key:1,class:"text-center"},ie={key:2,class:"text-center text-danger"},re={__name:"NavbarAppNavAlphabet",setup(p){const i=Xt();return x(()=>{i.fetchBrands()}),(l,s)=>{const a=S;return _(),u("div",te,[t("div",ee,[t("div",oe,[!d(i).loading&&!d(i).error?(_(),u("ul",se,[s[0]||(s[0]=t("li",null,[t("span",null,"Бренды:")],-1)),(_(!0),u(C,null,I(d(i).groupedBrands,(e,o)=>H((_(),u("li",{key:o,class:"dropdown position-static"},[t("a",ne,$(o),1),t("ul",ae,[(_(!0),u(C,null,I(e,m=>(_(),u("li",{key:m.id},[n(a,{to:d(i).getBrandUrl(m)},{default:c(()=>[r($(m.name),1)]),_:2},1032,["to"])]))),128))])])),[[Q,e.length>0]])),128))])):d(i).loading?(_(),u("div",le," Загрузка брендов... ")):(_(),u("div",ie," Ошибка загрузки брендов "))])])])}}},ce=b(re,[["__scopeId","data-v-003adc99"]]),de={__name:"AppHeader",setup(p){const i=typeof window<"u",l=()=>{if(!i)return;const a=window.scrollY+1;document.querySelectorAll(".sticky-nav").forEach(o=>{a>250?o.classList.add("menu_fixed","animated","fadeInDown"):o.classList.remove("menu_fixed","animated","fadeInDown")})},s=()=>{if(!i)return;document.querySelectorAll(".dropdown").forEach(e=>{e.addEventListener("show.bs.dropdown",function(){const o=this.querySelector(".dropdown-menu");o&&(o.classList.remove("slideUp"),o.classList.add("slideDown"))}),e.addEventListener("hide.bs.dropdown",function(){const o=this.querySelector(".dropdown-menu");o&&(o.classList.remove("slideDown"),o.classList.add("slideUp"))})})};return x(()=>{i&&(window.addEventListener("scroll",l),s(),l())}),Z(()=>{i&&window.removeEventListener("scroll",l)}),(a,e)=>{const o=rt,m=xt,f=jt,v=Jt,y=ce;return _(),u("header",null,[n(o),n(m),n(f),n(v),n(y)])}}},ue={class:"footer-area"},_e={class:"footer-container"},pe={class:"footer-top"},fe={class:"container"},me={class:"footer-grid"},ve={class:"footer-column footer-nav"},ge={class:"single-wedge"},he={class:"footer-links"},$e={class:"footer-menu"},ye={class:"footer-column footer-contacts"},ke={class:"single-wedge"},be={class:"footer-links"},we={class:"contact-item"},xe={class:"contact-item"},Se={class:"contact-item"},Ce={class:"social-links"},Ae={class:"footer-column footer-about"},Ie={class:"single-wedge"},Le={class:"footer-logo"},Ne={class:"footer-bottom"},Fe={class:"container"},Me={class:"footer-bottom-content"},Be={class:"copy-text"},Ee={__name:"AppFooter",setup(p){const i=h(new Date().getFullYear()),l=U("openCallModal"),s=D();return x(async()=>{try{await s.fetchSiteInfo()}catch(a){console.error("Failed to load site info:",a)}}),(a,e)=>{const o=S;return _(),u("footer",ue,[t("div",_e,[t("div",pe,[t("div",fe,[t("div",me,[t("div",ve,[t("div",ge,[e[7]||(e[7]=t("h4",{class:"footer-heading"},"Меню сайта",-1)),t("div",he,[t("ul",$e,[t("li",null,[n(o,{class:"single-link",to:"/category/keramogranit"},{default:c(()=>[...e[1]||(e[1]=[r(" Керамогранит ",-1)])]),_:1})]),t("li",null,[n(o,{class:"single-link",to:"/category/plitka"},{default:c(()=>[...e[2]||(e[2]=[r(" Плитка ",-1)])]),_:1})]),t("li",null,[n(o,{class:"single-link",to:"/category/mozaika"},{default:c(()=>[...e[3]||(e[3]=[r(" Мозаика ",-1)])]),_:1})]),t("li",null,[n(o,{class:"single-link",to:"/partnerships",target:"_blank"},{default:c(()=>[...e[4]||(e[4]=[r(" Дизайнерам ",-1)])]),_:1})]),t("li",null,[n(o,{class:"single-link",to:"/delivery"},{default:c(()=>[...e[5]||(e[5]=[r("Доставка",-1)])]),_:1})]),t("li",null,[n(o,{class:"single-link",to:"/return"},{default:c(()=>[...e[6]||(e[6]=[r("Возврат",-1)])]),_:1})])])])])]),t("div",ye,[t("div",ke,[e[12]||(e[12]=t("h4",{class:"footer-heading"},"Контакты",-1)),t("div",be,[t("p",we,[t("a",{href:"#",class:"modal-call",onClick:e[0]||(e[0]=M((...m)=>d(l)&&d(l)(...m),["prevent"]))}," Заказать звонок ")]),t("p",xe,[e[8]||(e[8]=t("i",{class:"icon fa fa-phone"},null,-1)),n(o,{to:"tel:"+d(s).getFormattedPhone,class:"phone-link"},{default:c(()=>[r($(d(s).getFormattedPhone),1)]),_:1},8,["to"])]),t("p",Se,[e[9]||(e[9]=t("i",{class:"icon fa fa-envelope-o"},null,-1)),n(o,{to:"mailto:"+d(s).getEmail},{default:c(()=>[r($(d(s).getEmail),1)]),_:1},8,["to"])])]),t("div",Ce,[n(o,{class:"social-link",target:"_blank",rel:"noopener noreferrer",to:"https://t.me/"+d(s).getTelegram},{default:c(()=>[...e[10]||(e[10]=[t("i",{class:"fa fa-telegram","aria-hidden":"true"},null,-1)])]),_:1},8,["to"]),n(o,{class:"social-link",target:"_blank",rel:"noopener noreferrer",to:"https://wa.me/"+d(s).getWhatsapp},{default:c(()=>[...e[11]||(e[11]=[t("i",{class:"fa fa-whatsapp","aria-hidden":"true"},null,-1)])]),_:1},8,["to"])])])]),t("div",Ae,[t("div",Ie,[t("div",Le,[n(o,{to:"/",class:"footer-logo-text"},{default:c(()=>[...e[13]||(e[13]=[r("Agat",-1),t("span",null,"Ceramic",-1)])]),_:1})]),e[14]||(e[14]=t("p",{class:"about-text"}," Интернет-магазин керамической плитки, керамогранита и мозаики в Москве и Московской области. В интернет-магазине AgatCeramic вы найдете премиальную керамическую плитку, керамогранит и мозаику от ведущих мировых производителей. ",-1))])])])])]),t("div",Ne,[t("div",Fe,[t("div",Me,[t("p",Be,[r("© "+$(d(i))+" ",1),e[15]||(e[15]=t("strong",null,"AgatCeramic",-1))]),n(o,{to:"/policy",class:"policy-link"},{default:c(()=>[...e[16]||(e[16]=[r("Политика конфиденциальности",-1)])]),_:1})])])])])])}}},Ue=b(Ee,[["__scopeId","data-v-f8ac80f9"]]),He={},Te={class:"page"},qe={class:"content"};function De(p,i){const l=de,s=Ue;return _(),u("div",Te,[n(l),t("main",qe,[J(p.$slots,"default",{},void 0,!0)]),n(s)])}const Ve=b(He,[["render",De],["__scopeId","data-v-1dcecfc9"]]);export{Ve as default};
