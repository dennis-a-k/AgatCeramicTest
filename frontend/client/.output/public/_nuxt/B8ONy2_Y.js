import{D as te,E as H,f as se,G as Q,H as ae,k as ie,c as i,p as ne,j as S,I as le,J as re,l as U,K as oe,L as ce,r as A,M as de,n as ue,N as me,u as b,O as ge,P as he,Q as ve,R as fe,_ as M,s as k,o as a,F as C,m as $,d as z,a as t,t as w,x as _,A as V,S as ye,q as _e,T as L,U as G,y as pe,V as be,b as j,z as q,w as we,B as ke}from"#entry";import{_ as Ce}from"./J-T6rV--.js";import{_ as $e}from"./H9qwbUIl.js";import{u as De}from"./BInIe9UF.js";import"./CbCqnU4e.js";const xe={trailing:!0};function Fe(e,l=25,m={}){if(m={...xe,...m},!Number.isFinite(l))throw new TypeError("Expected `wait` to be a finite number");let r,c,u=[],o,p;const v=(d,O)=>(o=Pe(e,d,O),o.finally(()=>{if(o=null,m.trailing&&p&&!c){const P=v(d,p);return p=null,P}}),o),x=function(...d){return m.trailing&&(p=d),o||new Promise(O=>{const P=!c&&m.leading;clearTimeout(c),c=setTimeout(()=>{c=null;const n=m.leading?r:v(this,d);p=null;for(const s of u)s(n);u=[]},l),P?(r=v(this,d),O(r)):u.push(O)})},f=d=>{d&&(clearTimeout(d),c=null)};return x.isPending=()=>!!c,x.cancel=()=>{f(c),u=[],p=null},x.flush=()=>{if(f(c),!p||o)return;const d=p;return p=null,v(this,d)},x}async function Pe(e,l,m){return await e.apply(l,m)}const X=Symbol.for("nuxt:client-only"),Oe=te({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:l,attrs:m}){const r=H(!1);se(()=>{r.value=!0});const c=Q();return c&&(c._nuxtClientOnly=!0),ne(X,!0),()=>{if(r.value){const v=l.default?.();return v&&v.length===1?[ae(v[0],m)]:v}const u=l.fallback||l.placeholder;if(u)return ie(u);const o=e.fallback||e.placeholder||"",p=e.fallbackTag||e.placeholderTag||"span";return i(p,m,o)}}});function Se(...e){const l=typeof e[e.length-1]=="string"?e.pop():void 0;Ae(e[0],e[1])&&e.unshift(l);let[m,r,c={}]=e;const u=S(()=>ce(m));if(typeof u.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof r!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const o=le();c.server??=!0,c.default??=Ee,c.getCachedData??=Z,c.lazy??=!1,c.immediate??=!0,c.deep??=re.deep,c.dedupe??="cancel",c._functionName,o._asyncData[u.value];const p={cause:"initial",dedupe:c.dedupe};o._asyncData[u.value]?._init||(p.cachedData=c.getCachedData(u.value,o,{cause:"initial"}),o._asyncData[u.value]=W(o,u.value,r,c,p.cachedData));const v=o._asyncData[u.value];v._deps++;const x=()=>o._asyncData[u.value].execute(p),f=c.server!==!1&&o.payload.serverRendered;{let P=function(y){const D=o._asyncData[y];D?._deps&&(D._deps--,D._deps===0&&D?._off())};const n=Q();if(n&&f&&c.immediate&&!n.sp&&(n.sp=[]),n&&!n._nuxtOnBeforeMountCbs){n._nuxtOnBeforeMountCbs=[];const y=n._nuxtOnBeforeMountCbs;he(()=>{y.forEach(D=>{D()}),y.splice(0,y.length)}),ve(()=>y.splice(0,y.length))}const s=n&&(n._nuxtClientOnly||fe(X,!1));f&&o.isHydrating&&(v.error.value||v.data.value!==void 0)?v.status.value=v.error.value?"error":"success":n&&(!s&&o.payload.serverRendered&&o.isHydrating||c.lazy)&&c.immediate?n._nuxtOnBeforeMountCbs.push(x):c.immediate&&v.status.value!=="success"&&x();const h=ge(),g=U(u,(y,D)=>{if((y||D)&&y!==D){const T=o._asyncData[D]?.data.value!==void 0,I=o._asyncDataPromises[D]!==void 0;D&&P(D);const B={cause:"initial",dedupe:c.dedupe};if(!o._asyncData[y]?._init){let R;D&&T?R=o._asyncData[D]?.data.value:(R=c.getCachedData(y,o,{cause:"initial"}),B.cachedData=R),o._asyncData[y]=W(o,y,r,c,R)}o._asyncData[y]._deps++,(c.immediate||T||I)&&o._asyncData[y].execute(B)}},{flush:"sync"}),F=c.watch?U(c.watch,()=>{v._execute({cause:"watch",dedupe:c.dedupe})}):()=>{};h&&oe(()=>{g(),F(),P(u.value)})}const d={data:N(()=>o._asyncData[u.value]?.data),pending:N(()=>o._asyncData[u.value]?.pending),status:N(()=>o._asyncData[u.value]?.status),error:N(()=>o._asyncData[u.value]?.error),refresh:(...P)=>o._asyncData[u.value].execute(...P),execute:(...P)=>o._asyncData[u.value].execute(...P),clear:()=>Y(o,u.value)},O=Promise.resolve(o._asyncDataPromises[u.value]).then(()=>d);return Object.assign(O,d),O}function N(e){return S({get(){return e()?.value},set(l){const m=e();m&&(m.value=l)}})}function Ae(e,l){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof l=="function")}function Y(e,l){l in e.payload.data&&(e.payload.data[l]=void 0),l in e.payload._errors&&(e.payload._errors[l]=void 0),e._asyncData[l]&&(e._asyncData[l].data.value=b(e._asyncData[l]._default()),e._asyncData[l].error.value=void 0,e._asyncData[l].status.value="idle"),l in e._asyncDataPromises&&(e._asyncDataPromises[l]&&(e._asyncDataPromises[l].cancelled=!0),e._asyncDataPromises[l]=void 0)}function Te(e,l){const m={};for(const r of l)m[r]=e[r];return m}function W(e,l,m,r,c){e.payload._errors[l]??=void 0;const u=r.getCachedData!==Z,o=m,p=r.deep?A:H,v=c!==void 0,x=e.hook("app:data:refresh",async d=>{(!d||d.includes(l))&&await f.execute({cause:"refresh:hook"})}),f={data:p(v?c:r.default()),pending:S(()=>f.status.value==="pending"),error:de(e.payload._errors,l),status:H("idle"),execute:(...d)=>{const[O,P=void 0]=d,n=O&&P===void 0&&typeof O=="object"?O:{};if(e._asyncDataPromises[l]){if((n.dedupe??r.dedupe)==="defer")return e._asyncDataPromises[l];e._asyncDataPromises[l].cancelled=!0}{const h="cachedData"in n?n.cachedData:r.getCachedData(l,e,{cause:n.cause??"refresh:manual"});if(h!==void 0)return e.payload.data[l]=f.data.value=h,f.error.value=void 0,f.status.value="success",Promise.resolve(h)}f.status.value="pending";const s=new Promise((h,g)=>{try{h(o(e))}catch(F){g(F)}}).then(async h=>{if(s.cancelled)return e._asyncDataPromises[l];let g=h;r.transform&&(g=await r.transform(h)),r.pick&&(g=Te(g,r.pick)),e.payload.data[l]=g,f.data.value=g,f.error.value=void 0,f.status.value="success"}).catch(h=>{if(s.cancelled)return e._asyncDataPromises[l];f.error.value=me(h),f.data.value=b(r.default()),f.status.value="error"}).finally(()=>{s.cancelled||delete e._asyncDataPromises[l]});return e._asyncDataPromises[l]=s,e._asyncDataPromises[l]},_execute:Fe((...d)=>f.execute(...d),0,{leading:!0}),_default:r.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{x(),e._asyncData[l]?._init&&(e._asyncData[l]._init=!1),u||ue(()=>{e._asyncData[l]?._init||(Y(e,l),f.execute=()=>Promise.resolve())})}};return f}const Ee=()=>{},Z=(e,l,m)=>{if(l.isHydrating)return l.payload.data[e];if(m.cause!=="refresh:manual"&&m.cause!=="refresh:hook")return l.static.data[e]},Be={key:0,class:"selected-filters"},Re=["onClick"],je={__name:"UiAppSelectedFilters",props:{selectedFilters:{type:Array,default:()=>[]}},emits:["removeFilter"],setup(e,{emit:l}){const m=l,r=(c,u)=>{m("removeFilter",c,u)};return(c,u)=>e.selectedFilters.length?(a(),i("div",Be,[(a(!0),i(C,null,$(e.selectedFilters,o=>(a(),i("span",{key:`${o.type}-${o.id}`,class:"filter-badge"},[z(w(o.name)+" ",1),t("button",{onClick:p=>r(o.type,o.id),class:"remove-btn"},"×",8,Re)]))),128))])):k("",!0)}},Ne=M(je,[["__scopeId","data-v-e8bf028a"]]),Ue={class:"select-shoing-wrap d-flex align-items-center"},ze={class:"header-bottom-set dropdown"},Me={class:"dropdown-toggle header-action-btn","data-bs-toggle":"dropdown"},Ie={class:"dropdown-menu dropdown-menu-right"},Ve={__name:"UiAppSortedGoods",emits:["update:sortOption"],setup(e,{emit:l}){const m=l,r=A("default"),c={alphabetical:"по алфавиту",price_asc:"по низкой цене",price_desc:"по высокой цене",default:"по умолчанию"},u=S(()=>c[r.value]),o=p=>{r.value=p,m("update:sortOption",p)};return(p,v)=>(a(),i("div",Ue,[v[5]||(v[5]=t("div",{class:"shot-product"},[t("p",null,"Сортировать:")],-1)),t("div",ze,[t("button",Me,[z(w(u.value)+" ",1),v[4]||(v[4]=t("i",{class:"fa fa-angle-down"},null,-1))]),t("ul",Ie,[t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:v[0]||(v[0]=_(x=>o("alphabetical"),["prevent"]))}," по алфавиту")]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:v[1]||(v[1]=_(x=>o("price_asc"),["prevent"]))}," по низкой цене ")]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:v[2]||(v[2]=_(x=>o("price_desc"),["prevent"]))}," по высокой цене ")]),t("li",null,[t("a",{class:"dropdown-item",href:"#",onClick:v[3]||(v[3]=_(x=>o("default"),["prevent"]))}," по умолчанию ")])])])]))}},qe={class:"pro-pagination-style text-center text-lg-end","data-aos":"fade-up","data-aos-delay":"200"},He={class:"pages"},Le=["onClick"],Ge={__name:"PaginationAppPagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["change-page"],setup(e,{emit:l}){const m=e,r=S(()=>{const c=Math.max(1,m.currentPage-3),u=Math.min(m.totalPages,m.currentPage+3),o=[];for(let p=c;p<=u;p++)o.push(p);return o});return(c,u)=>(a(),i("div",qe,[t("div",He,[t("ul",null,[t("li",{class:V(["page-item li",{disabled:e.currentPage===1}])},[t("a",{class:"page-link",href:"#",onClick:u[0]||(u[0]=_(o=>e.currentPage>1&&c.$emit("change-page",e.currentPage-1),["prevent"]))},[...u[2]||(u[2]=[t("i",{class:"fa fa-angle-left"},null,-1)])])],2),(a(!0),i(C,null,$(r.value,o=>(a(),i("li",{key:o,class:"page-item li"},[t("a",{class:V(["page-link",{active:o===e.currentPage}]),href:"#",onClick:_(p=>c.$emit("change-page",o),["prevent"])},w(o),11,Le)]))),128)),t("li",{class:V(["page-item li",{disabled:e.currentPage===e.totalPages}])},[t("a",{class:"page-link",href:"#",onClick:u[1]||(u[1]=_(o=>e.currentPage<e.totalPages&&c.$emit("change-page",e.currentPage+1),["prevent"]))},[...u[3]||(u[3]=[t("i",{class:"fa fa-angle-right"},null,-1)])])],2)])])]))}},We=M(Ge,[["__scopeId","data-v-ff892978"]]),K={brands:{nameField:"name"},colors:{nameField:"name"},patterns:{nameField:"name"},weights:{nameField:"value"},subcategories:{nameField:"name"},glues:{nameField:"name"},mixture_types:{nameField:"name"},seams:{nameField:"name"},textures:{nameField:"name"},countries:{nameField:"name"},sizes:{nameField:"name"},materials:{nameField:"name"},waterproofs:{nameField:"name"},collections:{nameField:"name"},volumes:{nameField:"value"},product_weights:{nameField:"value"},installation_types:{nameField:"name"},shapes:{nameField:"name"},applications:{nameField:"name"},drying_times:{nameField:"name"},package_weights:{nameField:"value"},min_temps:{nameField:"value"},max_temps:{nameField:"value"},consumptions:{nameField:"name"}},E=Object.keys(K),J={brand:"brands",color:"colors",pattern:"patterns",weight:"weights",subcategory:"subcategories",glue:"glues",mixture_type:"mixture_types",seam:"seams",texture:"textures",country:"countries",size:"sizes",material:"materials",waterproof:"waterproofs",collection:"collections",volume:"volumes",product_weight:"product_weights",installation_type:"installation_types",shape:"shapes",application:"applications",drying_time:"drying_times",package_weight:"package_weights",min_temp:"min_temps",max_temp:"max_temps",consumption:"consumptions"},Je=(e,l)=>{let m;return(...r)=>{clearTimeout(m),m=setTimeout(()=>e(...r),l)}},ee=ye("category",()=>{const e=A(Object.fromEntries(E.map(g=>[g,[]]))),l=A(Object.fromEntries(E.map(g=>[g,[]]))),m=A(""),r=A(""),c=A("default"),u=A(1),o=S(()=>{const g={...l.value,min_price:m.value,max_price:r.value,sort:c.value,page:u.value};return Object.keys(g).forEach(F=>{const y=g[F];(y===""||y===null||y===void 0||Array.isArray(y)&&y.length===0)&&delete g[F]}),g}),p=S(()=>{const g=[];return E.forEach(F=>{l.value[F].forEach(y=>{const D=e.value[F].find(T=>T.id===y);if(D){const T=K[F];g.push({type:F,id:y,name:D[T.nameField]})}})}),g}),v=g=>{Object.assign(e.value,g)},x=g=>{E.forEach(F=>{l.value[F]=g[F]||[]}),u.value=1},f=Je(x,300),d=g=>{u.value=g},O=g=>{c.value=g,u.value=1},P=(g,F)=>{const y=J[g]||g;l.value[y]&&(l.value[y]=l.value[y].filter(D=>D!==F)),x(l.value)},n=(g,F)=>{const y=J[g]||g;if(l.value[y]){const D=l.value[y].indexOf(F);D===-1?l.value[y].push(F):l.value[y].splice(D,1)}f(l.value)},s=()=>{E.forEach(g=>{l.value[g]=[]}),c.value="default",u.value=1,Object.keys(e.value).forEach(g=>{e.value[g]=[]})},h=Object.fromEntries(E.map(g=>[`selected${g.charAt(0).toUpperCase()+g.slice(1)}`,S(()=>l.value[g])]));return{filters:e,selected:l,minPrice:m,maxPrice:r,sortOption:c,currentPage:u,...h,queryParams:o,selectedFilters:p,setFilters:v,handleFilterChange:x,debouncedHandleFilterChange:f,changePage:d,handleSortChange:O,removeFilter:P,selectFilter:n,resetFilters:s}}),Qe={class:"col-lg-3 order-lg-first col-md-12 order-md-last"},Xe={class:"shop-sidebar-wrap"},Ye={key:0,class:"sidebar-widget"},Ze={class:"sidebar-widget-category"},Ke={class:"subcategories"},et=["onClick"],tt={key:1,class:"sidebar-widget"},st={class:"sidebar-widget-category"},at=["onClick"],it={key:2,class:"sidebar-widget"},nt={class:"sidebar-widget-category"},lt=["onClick"],rt={key:3,class:"sidebar-widget"},ot={class:"sidebar-widget-color"},ct={class:"d-flex flex-wrap"},dt=["data-color","onClick"],ut={key:4,class:"sidebar-widget"},mt={class:"sidebar-widget-category"},gt=["onClick"],ht={key:5,class:"sidebar-widget"},vt={class:"sidebar-widget-category"},ft=["onClick"],yt={key:6,class:"sidebar-widget"},_t={class:"sidebar-widget-category"},pt=["onClick"],bt={key:7,class:"sidebar-widget"},wt={class:"sidebar-widget-category"},kt=["onClick"],Ct={key:8,class:"sidebar-widget"},$t={class:"sidebar-widget-category"},Dt=["onClick"],xt={key:9,class:"sidebar-widget"},Ft={class:"sidebar-widget-category"},Pt=["onClick"],Ot={key:10,class:"sidebar-widget"},St={class:"sidebar-widget-category"},At=["onClick"],Tt={key:11,class:"sidebar-widget"},Et={class:"sidebar-widget-category"},Bt=["onClick"],Rt={key:12,class:"sidebar-widget"},jt={class:"sidebar-widget-category"},Nt=["onClick"],Ut=["onClick"],zt={key:0},Mt={key:13,class:"sidebar-widget"},It={class:"sidebar-widget-category"},Vt=["onClick"],qt={key:14,class:"sidebar-widget"},Ht={class:"sidebar-widget-category"},Lt=["onClick"],Gt={key:15,class:"sidebar-widget"},Wt={class:"sidebar-widget-category"},Jt=["onClick"],Qt={key:16,class:"sidebar-widget"},Xt={class:"sidebar-widget-category"},Yt=["onClick"],Zt={key:17,class:"sidebar-widget"},Kt={class:"sidebar-widget-category"},es=["onClick"],ts={key:18,class:"sidebar-widget"},ss={class:"sidebar-widget-category"},as=["onClick"],is={key:19,class:"sidebar-widget"},ns={class:"sidebar-widget-category"},ls=["onClick"],rs={key:20,class:"sidebar-widget"},os={class:"sidebar-widget-category"},cs=["onClick"],ds={key:21,class:"sidebar-widget"},us={class:"sidebar-widget-category"},ms=["onClick"],gs={key:22,class:"sidebar-widget"},hs={class:"sidebar-widget-category"},vs=["onClick"],fs={key:23,class:"sidebar-widget"},ys={class:"sidebar-widget-category"},_s={id:"brands-list"},ps=["onClick"],bs={id:"hidden-brands"},ws=["onClick"],ks={key:0},Cs={class:"sidebar-widget"},$s={class:""},Ds={__name:"FiltersAppCategoryFilters",props:{subcategories:{type:Array,default:()=>[]},patterns:{type:Array,default:()=>[]},weights:{type:Array,default:()=>[]},colors:{type:Array,default:()=>[]},glues:{type:Array,default:()=>[]},mixture_types:{type:Array,default:()=>[]},seams:{type:Array,default:()=>[]},textures:{type:Array,default:()=>[]},countries:{type:Array,default:()=>[]},sizes:{type:Array,default:()=>[]},materials:{type:Array,default:()=>[]},waterproofs:{type:Array,default:()=>[]},collections:{type:Array,default:()=>[]},volumes:{type:Array,default:()=>[]},product_weights:{type:Array,default:()=>[]},installation_types:{type:Array,default:()=>[]},shapes:{type:Array,default:()=>[]},applications:{type:Array,default:()=>[]},drying_times:{type:Array,default:()=>[]},package_weights:{type:Array,default:()=>[]},min_temps:{type:Array,default:()=>[]},max_temps:{type:Array,default:()=>[]},consumptions:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},initialFilters:{type:Object,default:()=>({brands:[],min_price:"",max_price:"",colors:[],patterns:[],weights:[],subcategories:[],glues:[],mixture_types:[],seams:[],textures:[],countries:[],sizes:[],materials:[],waterproofs:[],collections:[],volumes:[],product_weights:[],installation_types:[],shapes:[],applications:[],drying_times:[],package_weights:[],min_temps:[],max_temps:[],consumptions:[]})}},setup(e){const l=ee(),m=e,r=A(!1),c=A(!1),u=S(()=>m.brands.slice(0,5)),o=S(()=>m.brands.slice(5)),p=S(()=>m.collections.slice(0,10)),v=S(()=>m.collections.slice(10)),x=()=>{r.value=!r.value},f=()=>{c.value=!c.value},d=(P,n)=>{l.selectFilter(P,n)},O=()=>{l.resetFilters()};return(P,n)=>(a(),i("div",Qe,[t("div",Xe,[e.subcategories&&e.subcategories.length?(a(),i("div",Ye,[n[0]||(n[0]=t("h4",{class:"sidebar-title"},"Подкатегория",-1)),t("div",Ze,[t("ul",null,[t("div",Ke,[(a(!0),i(C,null,$(e.subcategories,s=>(a(),i("li",{class:"dropdown position-static",key:s.id},[t("a",{href:"#",onClick:_(h=>d("subcategory",s.id),["prevent"])},w(s.name),9,et)]))),128))])])])])):k("",!0),e.patterns&&e.patterns.length?(a(),i("div",tt,[n[1]||(n[1]=t("h4",{class:"sidebar-title"},"Рисунок",-1)),t("div",st,[t("ul",null,[(a(!0),i(C,null,$(e.patterns,s=>(a(),i("li",{class:"dropdown position-static",key:s.id},[t("a",{href:"#",onClick:_(h=>d("pattern",s.id),["prevent"])},w(s.name),9,at)]))),128))])])])):k("",!0),e.weights&&e.weights.length?(a(),i("div",it,[n[2]||(n[2]=t("h4",{class:"sidebar-title"},"Толщина шва",-1)),t("div",nt,[t("ul",null,[(a(!0),i(C,null,$(e.weights,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("weight",s.id),["prevent"])},w(s.value),9,lt)]))),128))])])])):k("",!0),e.colors&&e.colors.length?(a(),i("div",rt,[n[3]||(n[3]=t("h4",{class:"sidebar-title"},"Цвет",-1)),t("div",ot,[t("ul",ct,[(a(!0),i(C,null,$(e.colors,s=>(a(),i("li",{class:"color-list",key:s.id},[t("a",{href:"#",style:_e({backgroundColor:s.hex}),class:"colors-filter","data-color":s.name,onClick:_(h=>d("color",s.id),["prevent"])},null,12,dt)]))),128))])])])):k("",!0),e.glues&&e.glues.length?(a(),i("div",ut,[n[4]||(n[4]=t("h4",{class:"sidebar-title"},"Использовать в качестве клея",-1)),t("div",mt,[t("ul",null,[(a(!0),i(C,null,$(e.glues,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("glue",s.id),["prevent"])},w(s.name),9,gt)]))),128))])])])):k("",!0),e.mixture_types&&e.mixture_types.length?(a(),i("div",ht,[n[5]||(n[5]=t("h4",{class:"sidebar-title"},"Тип",-1)),t("div",vt,[t("ul",null,[(a(!0),i(C,null,$(e.mixture_types,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("mixture_type",s.id),["prevent"])},w(s.name),9,ft)]))),128))])])])):k("",!0),e.seams&&e.seams.length?(a(),i("div",yt,[n[6]||(n[6]=t("h4",{class:"sidebar-title"},"Ширина шва (мм)",-1)),t("div",_t,[t("ul",null,[(a(!0),i(C,null,$(e.seams,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("seam",s.id),["prevent"])},w(s.name),9,pt)]))),128))])])])):k("",!0),e.textures&&e.textures.length?(a(),i("div",bt,[n[7]||(n[7]=t("h4",{class:"sidebar-title"},"Поверхность",-1)),t("div",wt,[t("ul",null,[(a(!0),i(C,null,$(e.textures,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("texture",s.id),["prevent"])},w(s.name),9,kt)]))),128))])])])):k("",!0),e.countries&&e.countries.length?(a(),i("div",Ct,[n[8]||(n[8]=t("h4",{class:"sidebar-title"},"Страна",-1)),t("div",$t,[t("ul",null,[(a(!0),i(C,null,$(e.countries,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("country",s.id),["prevent"])},w(s.name),9,Dt)]))),128))])])])):k("",!0),e.sizes&&e.sizes.length?(a(),i("div",xt,[n[9]||(n[9]=t("h4",{class:"sidebar-title"},"Размер",-1)),t("div",Ft,[t("ul",null,[(a(!0),i(C,null,$(e.sizes,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("size",s.id),["prevent"])},w(s.name),9,Pt)]))),128))])])])):k("",!0),e.materials&&e.materials.length?(a(),i("div",Ot,[n[10]||(n[10]=t("h4",{class:"sidebar-title"},"Материал",-1)),t("div",St,[t("ul",null,[(a(!0),i(C,null,$(e.materials,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("material",s.id),["prevent"])},w(s.name),9,At)]))),128))])])])):k("",!0),e.waterproofs&&e.waterproofs.length?(a(),i("div",Tt,[n[11]||(n[11]=t("h4",{class:"sidebar-title"},"Влагостойкость",-1)),t("div",Et,[t("ul",null,[(a(!0),i(C,null,$(e.waterproofs,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("waterproof",s.id),["prevent"])},w(s.name),9,Bt)]))),128))])])])):k("",!0),e.collections&&e.collections.length?(a(),i("div",Rt,[n[12]||(n[12]=t("h4",{class:"sidebar-title"},"Коллекция",-1)),t("div",jt,[t("ul",null,[(a(!0),i(C,null,$(p.value,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("collection",s.id),["prevent"])},w(s.name),9,Nt)]))),128)),L(t("div",null,[(a(!0),i(C,null,$(v.value,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("collection",s.id),["prevent"])},w(s.name),9,Ut)]))),128))],512),[[G,c.value]]),e.collections.length>10?(a(),i("li",zt,[t("a",{href:"#",class:"show-more-link",onClick:_(f,["prevent"])},w(c.value?"Скрыть":"Показать все"),1)])):k("",!0)])])])):k("",!0),e.volumes&&e.volumes.length?(a(),i("div",Mt,[n[13]||(n[13]=t("h4",{class:"sidebar-title"},"Объем (л)",-1)),t("div",It,[t("ul",null,[(a(!0),i(C,null,$(e.volumes,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("volume",s.id),["prevent"])},w(s.value),9,Vt)]))),128))])])])):k("",!0),e.product_weights&&e.product_weights.length?(a(),i("div",qt,[n[14]||(n[14]=t("h4",{class:"sidebar-title"},"Вес (кг)",-1)),t("div",Ht,[t("ul",null,[(a(!0),i(C,null,$(e.product_weights,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("product_weight",s.id),["prevent"])},w(s.value),9,Lt)]))),128))])])])):k("",!0),e.installation_types&&e.installation_types.length?(a(),i("div",Gt,[n[15]||(n[15]=t("h4",{class:"sidebar-title"},"Тип установки",-1)),t("div",Wt,[t("ul",null,[(a(!0),i(C,null,$(e.installation_types,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("installation_type",s.id),["prevent"])},w(s.name),9,Jt)]))),128))])])])):k("",!0),e.shapes&&e.shapes.length?(a(),i("div",Qt,[n[16]||(n[16]=t("h4",{class:"sidebar-title"},"Форма",-1)),t("div",Xt,[t("ul",null,[(a(!0),i(C,null,$(e.shapes,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("shape",s.id),["prevent"])},w(s.name),9,Yt)]))),128))])])])):k("",!0),e.applications&&e.applications.length?(a(),i("div",Zt,[n[17]||(n[17]=t("h4",{class:"sidebar-title"},"Применение",-1)),t("div",Kt,[t("ul",null,[(a(!0),i(C,null,$(e.applications,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("application",s.id),["prevent"])},w(s.name),9,es)]))),128))])])])):k("",!0),e.drying_times&&e.drying_times.length?(a(),i("div",ts,[n[18]||(n[18]=t("h4",{class:"sidebar-title"},"Время высыхания",-1)),t("div",ss,[t("ul",null,[(a(!0),i(C,null,$(e.drying_times,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("drying_time",s.id),["prevent"])},w(s.name),9,as)]))),128))])])])):k("",!0),e.package_weights&&e.package_weights.length?(a(),i("div",is,[n[19]||(n[19]=t("h4",{class:"sidebar-title"},"Вес упаковки (кг)",-1)),t("div",ns,[t("ul",null,[(a(!0),i(C,null,$(e.package_weights,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("package_weight",s.id),["prevent"])},w(s.value),9,ls)]))),128))])])])):k("",!0),e.min_temps&&e.min_temps.length?(a(),i("div",rs,[n[20]||(n[20]=t("h4",{class:"sidebar-title"},"Мин. температура эксплуатации (°C)",-1)),t("div",os,[t("ul",null,[(a(!0),i(C,null,$(e.min_temps,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("min_temp",s.id),["prevent"])},w(s.value),9,cs)]))),128))])])])):k("",!0),e.max_temps&&e.max_temps.length?(a(),i("div",ds,[n[21]||(n[21]=t("h4",{class:"sidebar-title"},"Макс. температура эксплуатации (°C)",-1)),t("div",us,[t("ul",null,[(a(!0),i(C,null,$(e.max_temps,s=>(a(),i("li",{class:"color-list weight",key:s.id},[t("a",{href:"#",class:"text-white",onClick:_(h=>d("max_temp",s.id),["prevent"])},w(s.value),9,ms)]))),128))])])])):k("",!0),e.consumptions&&e.consumptions.length?(a(),i("div",gs,[n[22]||(n[22]=t("h4",{class:"sidebar-title"},"Расход",-1)),t("div",hs,[t("ul",null,[(a(!0),i(C,null,$(e.consumptions,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("consumption",s.id),["prevent"])},w(s.name),9,vs)]))),128))])])])):k("",!0),e.brands&&e.brands.length?(a(),i("div",fs,[n[23]||(n[23]=t("h4",{class:"sidebar-title"},"Производитель",-1)),t("div",ys,[t("ul",_s,[(a(!0),i(C,null,$(u.value,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("brand",s.id),["prevent"])},w(s.name),9,ps)]))),128)),L(t("div",bs,[(a(!0),i(C,null,$(o.value,s=>(a(),i("li",{key:s.id},[t("a",{href:"#",onClick:_(h=>d("brand",s.id),["prevent"])},w(s.name),9,ws)]))),128))],512),[[G,r.value]]),e.brands.length>5?(a(),i("li",ks,[t("a",{href:"#",id:"show-all-brands",class:"show-more-link",onClick:_(x,["prevent"])},w(r.value?"Скрыть":"Показать все"),1)])):k("",!0)])])])):k("",!0),t("div",Cs,[t("div",$s,[t("a",{href:"#",class:"btn-filter",onClick:_(O,["prevent"])}," Сбросить фильтры ")])])])]))}},xs=M(Ds,[["__scopeId","data-v-9471d81f"]]),Fs={class:"shop-category-area pt-100px pb-100px"},Ps={class:"container"},Os={class:"row"},Ss={class:"col-lg-9 order-lg-last col-md-12 order-md-first"},As={class:"shop-top-bar d-flex justify-content-between mb-3"},Ts={class:"category-text"},Es={key:0,class:"h3 m-0"},Bs={key:1},Rs={key:1,class:"error text-center mt-5"},js={key:2,class:"text-center mt-2"},Ns={key:3,class:"shop-bottom-area"},Us={class:"row"},zs={class:"col"},Ms={class:"tab-content"},Is={class:"tab-pane fade show active",id:"shop-grid"},Vs={class:"row mb-n-30px"},qs={__name:"[slug]",setup(e){const m=pe().params.slug,r=ee();be((n,s)=>{n.params.slug!==s.params.slug&&(r.resetFilters(),x())});const c=ke(),{data:u,pending:o,error:p,execute:v}=Se(`category-products-${m}`,()=>$fetch(`${c.public.apiBase}/api/category/${m}/products`,{query:r.queryParams}),{immediate:!1}),x=()=>v();U(()=>r.queryParams,()=>x(),{immediate:!0});const f=S(()=>u.value?.category||null),d=S(()=>u.value?.products||null);U(u,n=>{n&&n.filters&&r.setFilters(n.filters)},{immediate:!0});const O=S(()=>p.value&&!o.value),P=S(()=>d.value?.data?{"@context":"https://schema.org","@type":"ItemList",name:f.value?.name||"Категория товаров",description:f.value?.description||"",url:`${c.public.siteUrl}/category/${m}`,numberOfItems:d.value.data.length,itemListElement:d.value.data.map((n,s)=>({"@type":"Product",position:s+1,name:n.name,description:n.description,image:n.image,offers:{"@type":"Offer",price:n.price,priceCurrency:"RUB",availability:n.in_stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}))}:null);return De(S(()=>({title:f.value?.name?`${f.value.name} - AgatCeramic`:"Категория товаров - AgatCeramic",meta:[{name:"description",content:f.value?.description||"Купить товары категории в интернет-магазине AgatCeramic"},{name:"keywords",content:f.value?.name?`${f.value.name}, керамическая плитка, сантехника`:"керамическая плитка, сантехника"}],link:[{rel:"canonical",href:`${c.public.siteUrl}/category/${m}`}],script:P.value?[{type:"application/ld+json",children:JSON.stringify(P.value)}]:[]}))),(n,s)=>{const h=Ne,g=Ve,F=Ce,y=$e,D=We,T=xs,I=Oe;return a(),i("main",Fs,[t("div",Ps,[j(h,{selectedFilters:b(r).selectedFilters,onRemoveFilter:b(r).removeFilter},null,8,["selectedFilters","onRemoveFilter"]),t("div",Os,[t("div",Ss,[t("div",As,[t("div",Ts,[f.value?(a(),i("h1",Es,w(f.value.name),1)):k("",!0),f.value?(a(),i("p",Bs,w(f.value.description),1)):k("",!0)]),j(g,{"onUpdate:sortOption":b(r).handleSortChange},null,8,["onUpdate:sortOption"])]),b(o)?(a(),q(F,{key:0,text:"Загрузка товаров..."})):O.value?(a(),i("div",Rs,[...s[0]||(s[0]=[t("h2",null,[z("Произошла ошибка при загрузке товаров."),t("br"),z("Попробуйте перезагрузить страницу.")],-1)])])):!d.value||!d.value.data||d.value.data.length===0?(a(),i("div",js,[...s[1]||(s[1]=[t("h2",null,"Список товаров пуст",-1)])])):(a(),i("div",Ns,[t("div",Us,[t("div",zs,[t("div",Ms,[t("div",Is,[t("div",Vs,[(a(!0),i(C,null,$(d.value.data,B=>(a(),q(y,{key:B.id,product:B},null,8,["product"]))),128))])])])])]),d.value.last_page>1?(a(),q(D,{key:0,"current-page":d.value.current_page,"total-pages":d.value.last_page,onChangePage:b(r).changePage},null,8,["current-page","total-pages","onChangePage"])):k("",!0)]))]),j(I,null,{default:we(()=>[j(T,{subcategories:b(r).filters.subcategories,patterns:b(r).filters.patterns,weights:b(r).filters.weights,colors:b(r).filters.colors,glues:b(r).filters.glues,mixture_types:b(r).filters.mixture_types,seams:b(r).filters.seams,textures:b(r).filters.textures,countries:b(r).filters.countries,sizes:b(r).filters.sizes,materials:b(r).filters.materials,waterproofs:b(r).filters.waterproofs,collections:b(r).filters.collections,volumes:b(r).filters.volumes,product_weights:b(r).filters.product_weights,installation_types:b(r).filters.installation_types,shapes:b(r).filters.shapes,applications:b(r).filters.applications,drying_times:b(r).filters.drying_times,package_weights:b(r).filters.package_weights,min_temps:b(r).filters.min_temps,max_temps:b(r).filters.max_temps,consumptions:b(r).filters.consumptions,brands:b(r).filters.brands,initialFilters:b(r).filters},null,8,["subcategories","patterns","weights","colors","glues","mixture_types","seams","textures","countries","sizes","materials","waterproofs","collections","volumes","product_weights","installation_types","shapes","applications","drying_times","package_weights","min_temps","max_temps","consumptions","brands","initialFilters"])]),_:1})])])])}}},Qs=M(qs,[["__scopeId","data-v-10cc4a71"]]);export{Qs as default};
