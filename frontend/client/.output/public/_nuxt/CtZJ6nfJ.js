import{_ as N,a as D,b as R,c as j}from"./SL-Yidzt.js";import{_ as I}from"./D7avEDMr.js";import{_ as V}from"./CLc9ieBC.js";import{_ as q,D as E,o as L,s as J,w as x,d as u,z as M,e as n,f as i,j as s,g as m,u as t,x as g,m as f,t as b,y as k,F as T,k as G,i as H,B as K}from"#entry";import{u as Q}from"./DrXufkwD.js";import{u as W}from"./RcykfPY2.js";const X={class:"shop-category-area pt-100px pb-100px"},Y={class:"container"},Z={class:"row"},ee={class:"col-lg-9 order-lg-last col-md-12 order-md-first"},te={class:"shop-top-bar d-flex justify-content-between mb-3 row"},se={class:"category-text col-sm-12 col-md-6 mb-3 mb-md-0"},ae={key:0,class:"h3 m-0"},oe={key:1},re={key:1,class:"error text-center mt-5"},ie={key:2,class:"text-center mt-2"},ne={key:3,class:"shop-bottom-area"},le={class:"row"},ce={class:"col"},pe={class:"tab-content"},ue={class:"tab-pane fade show active",id:"shop-grid"},me={class:"row mb-n-30px"},_e={__name:"[slug]",setup(de){const p=E().params.slug,e=Q();L(()=>{e.resetFilters()});const _=J(),l=_.public.siteUrl||"https://agatceramic.ru",{data:d,pending:h,error:w,execute:C}=W(`brand-products-${p}`,()=>$fetch(`${_.public.apiBase}/api/brand/${p}/products`,{query:e.queryParams}),{immediate:!1}),F=()=>C();x(()=>e.queryParams,()=>F(),{immediate:!0});const a=u(()=>d.value?.brand||null),r=u(()=>d.value?.products||null);x(d,o=>{o&&o.filters&&e.setFilters(o.filters)},{immediate:!0});const $=u(()=>w.value&&!h.value),v=u(()=>r.value?.data?{"@context":"https://schema.org","@type":"ItemList",name:a.value?.name||"Товары бренда",description:a.value?.description||"",url:`${_.public.siteUrl}/brand/${p}`,numberOfItems:r.value.data.length,itemListElement:r.value.data.map((o,c)=>({"@type":"Product",position:c+1,name:o.name,description:o.description,image:o.image,offers:{"@type":"Offer",price:o.price,priceCurrency:"RUB",availability:o.in_stock?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}))}:null);return M(u(()=>({title:a.value?.name?`Купить товары бренда ${a.value.name} - AgatCeramic`:"Товары бренда - AgatCeramic",meta:[{name:"description",content:a.value?.description||"Купить товары бренда в интернет-магазине AgatCeramic"},{name:"keywords",content:a.value?.name?`${a.value.name}, керамическая плитка, сантехника`:"керамическая плитка, сантехника"},{property:"og:image",content:`${l}/images/stock/logo.png`},{property:"og:title",content:"AgatCeramic - Интернет-магазин плитки, керамогранита и сантехники"},{property:"og:description",content:a.value?.description||"Купить товары бренда в интернет-магазине AgatCeramic"},{property:"og:url",content:`${l}/brand/${p}`},{name:"twitter:image",content:`${l}/images/stock/logo.png`}],link:[{rel:"canonical",href:`${l}/brand/${p}`}],script:[...v.value?[{type:"application/ld+json",children:JSON.stringify(v.value)}]:[],{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Organization",name:"AgatCeramic",url:l,logo:`${l}/images/stock/logo.png`,description:"Интернет-магазин плитки, керамогранита и сантехники",email:"zakaz@agatceramic.ru",contactPoint:{"@type":"ContactPoint",telephone:"+7 (999) 999-99-99",contactType:"customer service"}})}]}))),(o,c)=>{const A=N,P=D,O=I,S=V,U=R,B=j,z=K;return i(),n("main",X,[s("div",Y,[m(A,{selectedFilters:t(e).selectedFilters,onRemoveFilter:t(e).removeFilter},null,8,["selectedFilters","onRemoveFilter"]),s("div",Z,[s("div",ee,[s("div",te,[s("div",se,[a.value?(i(),n("h1",ae,b(a.value.name),1)):f("",!0),a.value?(i(),n("p",oe,b(a.value.description),1)):f("",!0)]),m(P,{"onUpdate:sortOption":t(e).handleSortChange},null,8,["onUpdate:sortOption"])]),t(h)?(i(),g(O,{key:0,text:"Загрузка товаров..."})):$.value?(i(),n("div",re,[...c[0]||(c[0]=[s("h2",null,[k("Произошла ошибка при загрузке товаров."),s("br"),k("Попробуйте перезагрузить страницу.")],-1)])])):!r.value||!r.value.data||r.value.data.length===0?(i(),n("div",ie,[...c[1]||(c[1]=[s("h2",null,"Список товаров пуст",-1)])])):(i(),n("div",ne,[s("div",le,[s("div",ce,[s("div",pe,[s("div",ue,[s("div",me,[(i(!0),n(T,null,G(r.value.data,y=>(i(),g(S,{key:y.id,product:y},null,8,["product"]))),128))])])])])]),r.value.last_page>1?(i(),g(U,{key:0,"current-page":r.value.current_page,"total-pages":r.value.last_page,onChangePage:t(e).changePage},null,8,["current-page","total-pages","onChangePage"])):f("",!0)]))]),m(z,null,{default:H(()=>[m(B,{store:t(e),showCategoriesFilter:!0,categories:t(e).filters.categories,subcategories:t(e).filters.subcategories,patterns:t(e).filters.patterns,weights:t(e).filters.weights,colors:t(e).filters.colors,glues:t(e).filters.glues,mixture_types:t(e).filters.mixture_types,seams:t(e).filters.seams,textures:t(e).filters.textures,countries:t(e).filters.countries,sizes:t(e).filters.sizes,materials:t(e).filters.materials,waterproofs:t(e).filters.waterproofs,collections:t(e).filters.collections,volumes:t(e).filters.volumes,product_weights:t(e).filters.product_weights,installation_types:t(e).filters.installation_types,shapes:t(e).filters.shapes,applications:t(e).filters.applications,drying_times:t(e).filters.drying_times,package_weights:t(e).filters.package_weights,min_temps:t(e).filters.min_temps,max_temps:t(e).filters.max_temps,consumptions:t(e).filters.consumptions,initialFilters:t(e).filters},null,8,["store","categories","subcategories","patterns","weights","colors","glues","mixture_types","seams","textures","countries","sizes","materials","waterproofs","collections","volumes","product_weights","installation_types","shapes","applications","drying_times","package_weights","min_temps","max_temps","consumptions","initialFilters"])]),_:1})])])])}}},ke=q(_e,[["__scopeId","data-v-44cd45d0"]]);export{ke as default};
