import{n as E,D as A,f as oe,E as le,G as ce,H as ue,I as de,i as fe,q,J as he,r as w,K as Z,L as ve,v as ge,M as ye,y as H,N as _e,O as K,P as me,Q as pe,c as h,o as f,a as l,d as be,t as S,C as z,_ as ee,A as P,F as j,x as T,z as we,R as De,S as $e,T as xe,b as X,U as Ce,V as Be}from"#entry";import{_ as ke}from"./CeAO9Aso.js";import"./oHl9wiJX.js";function Oe(s){return typeof s=="string"?`'${s}'`:new ze().serialize(s)}const ze=(function(){class s{#e=new Map;compare(e,t){const i=typeof e,o=typeof t;return i==="string"&&o==="string"?e.localeCompare(t):i==="number"&&o==="number"?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(e===null)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if(t!=="[object Object]")return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const i=e.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,e);if(typeof e.toJSON=="function"){const r=e.toJSON();return o+(r!==null&&typeof r=="object"?this.$object(r):`(${this.serialize(r)})`)}return this.serializeObjectEntries(o,Object.entries(e))}serializeBuiltInType(e,t){const i=this["$"+e];if(i)return i.call(this,t);if(typeof t?.entries=="function")return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const i=Array.from(t).sort((r,v)=>this.compare(r[0],v[0]));let o=`${e}{`;for(let r=0;r<i.length;r++){const[v,u]=i[r];o+=`${this.serialize(v,!0)}:${this.serialize(u)}`,r<i.length-1&&(o+=",")}return o+"}"}$object(e){let t=this.#e.get(e);return t===void 0&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return t.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let i=0;i<e.length;i++)t+=this.serialize(e[i]),i<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((t,i)=>this.compare(t,i)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const a of["Error","RegExp","URL"])s.prototype["$"+a]=function(e){return`${a}(${e})`};for(const a of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])s.prototype["$"+a]=function(e){return`${a}[${e.join(",")}]`};for(const a of["BigInt64Array","BigUint64Array"])s.prototype["$"+a]=function(e){return`${a}[${e.join("n,")}${e.length>0?"n":""}]`};return s})(),Se=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",F=[];class Te{_data=new N;_hash=new N([...Se]);_nDataBytes=0;_minBufferSize=0;finalize(a){a&&this._append(a);const e=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(t+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(a,e){const t=this._hash.words;let i=t[0],o=t[1],r=t[2],v=t[3],u=t[4],p=t[5],g=t[6],_=t[7];for(let y=0;y<64;y++){if(y<16)F[y]=a[e+y]|0;else{const b=F[y-15],d=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,c=F[y-2],n=(c<<15|c>>>17)^(c<<13|c>>>19)^c>>>10;F[y]=d+F[y-7]+n+F[y-16]}const D=u&p^~u&g,m=i&o^i&r^o&r,O=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),x=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),B=_+x+D+Pe[y]+F[y],$=O+m;_=g,g=p,p=u,u=v+B|0,v=r,r=o,o=i,i=B+$|0}t[0]=t[0]+i|0,t[1]=t[1]+o|0,t[2]=t[2]+r|0,t[3]=t[3]+v|0,t[4]=t[4]+u|0,t[5]=t[5]+p|0,t[6]=t[6]+g|0,t[7]=t[7]+_|0}_append(a){typeof a=="string"&&(a=N.fromUtf8(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_process(a){let e,t=this._data.sigBytes/64;a?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const i=t*16,o=Math.min(i*4,this._data.sigBytes);if(i){for(let r=0;r<i;r+=16)this._doProcessBlock(this._data.words,r);e=this._data.words.splice(0,i),this._data.sigBytes-=o}return new N(e,o)}}class N{words;sigBytes;constructor(a,e){a=this.words=a||[],this.sigBytes=e===void 0?a.length*4:e}static fromUtf8(a){const e=unescape(encodeURIComponent(a)),t=e.length,i=[];for(let o=0;o<t;o++)i[o>>>2]|=(e.charCodeAt(o)&255)<<24-o%4*8;return new N(i,t)}toBase64(){const a=[];for(let e=0;e<this.sigBytes;e+=3){const t=this.words[e>>>2]>>>24-e%4*8&255,i=this.words[e+1>>>2]>>>24-(e+1)%4*8&255,o=this.words[e+2>>>2]>>>24-(e+2)%4*8&255,r=t<<16|i<<8|o;for(let v=0;v<4&&e*8+v*6<this.sigBytes*8;v++)a.push(je.charAt(r>>>6*(3-v)&63))}return a.join("")}concat(a){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let e=0;e<a.sigBytes;e++){const t=a.words[e>>>2]>>>24-e%4*8&255;this.words[this.sigBytes+e>>>2]|=t<<24-(this.sigBytes+e)%4*8}else for(let e=0;e<a.sigBytes;e+=4)this.words[this.sigBytes+e>>>2]=a.words[e>>>2];this.sigBytes+=a.sigBytes}}function Ee(s){return new Te().finalize(s).toBase64()}function I(s){return Ee(Oe(s))}const Ae={trailing:!0};function Me(s,a=25,e={}){if(e={...Ae,...e},!Number.isFinite(a))throw new TypeError("Expected `wait` to be a finite number");let t,i,o=[],r,v;const u=(_,y)=>(r=Re(s,_,y),r.finally(()=>{if(r=null,e.trailing&&v&&!i){const D=u(_,v);return v=null,D}}),r),p=function(..._){return e.trailing&&(v=_),r||new Promise(y=>{const D=!i&&e.leading;clearTimeout(i),i=setTimeout(()=>{i=null;const m=e.leading?t:u(this,_);v=null;for(const O of o)O(m);o=[]},a),D?(t=u(this,_),y(t)):o.push(y)})},g=_=>{_&&(clearTimeout(_),i=null)};return p.isPending=()=>!!i,p.cancel=()=>{g(i),o=[],v=null},p.flush=()=>{if(g(i),!v||r)return;const _=v;return v=null,u(this,_)},p}async function Re(s,a,e){return await s.apply(a,e)}const Ue=Symbol.for("nuxt:client-only");function Fe(...s){const a=typeof s[s.length-1]=="string"?s.pop():void 0;Ie(s[0],s[1])&&s.unshift(a);let[e,t,i={}]=s;const o=E(()=>A(e));if(typeof o.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=oe();i.server??=!0,i.default??=qe,i.getCachedData??=se,i.lazy??=!1,i.immediate??=!0,i.deep??=le.deep,i.dedupe??="cancel",i._functionName,r._asyncData[o.value];const v={cause:"initial",dedupe:i.dedupe};r._asyncData[o.value]?._init||(v.cachedData=i.getCachedData(o.value,r,{cause:"initial"}),r._asyncData[o.value]=Y(r,o.value,t,i,v.cachedData));const u=r._asyncData[o.value];u._deps++;const p=()=>r._asyncData[o.value].execute(v),g=i.server!==!1&&r.payload.serverRendered;{let D=function(b){const d=r._asyncData[b];d?._deps&&(d._deps--,d._deps===0&&d?._off())};const m=ce();if(m&&g&&i.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const b=m._nuxtOnBeforeMountCbs;ue(()=>{b.forEach(d=>{d()}),b.splice(0,b.length)}),de(()=>b.splice(0,b.length))}const O=m&&(m._nuxtClientOnly||fe(Ue,!1));g&&r.isHydrating&&(u.error.value||u.data.value!==void 0)?u.status.value=u.error.value?"error":"success":m&&(!O&&r.payload.serverRendered&&r.isHydrating||i.lazy)&&i.immediate?m._nuxtOnBeforeMountCbs.push(p):i.immediate&&u.status.value!=="success"&&p();const x=_e(),B=q(o,(b,d)=>{if((b||d)&&b!==d){const c=r._asyncData[d]?.data.value!==void 0,n=r._asyncDataPromises[d]!==void 0;d&&D(d);const k={cause:"initial",dedupe:i.dedupe};if(!r._asyncData[b]?._init){let M;d&&c?M=r._asyncData[d]?.data.value:(M=i.getCachedData(b,r,{cause:"initial"}),k.cachedData=M),r._asyncData[b]=Y(r,b,t,i,M)}r._asyncData[b]._deps++,(i.immediate||c||n)&&r._asyncData[b].execute(k)}},{flush:"sync"}),$=i.watch?q(i.watch,()=>{u._execute({cause:"watch",dedupe:i.dedupe})}):()=>{};x&&he(()=>{B(),$(),D(o.value)})}const _={data:W(()=>r._asyncData[o.value]?.data),pending:W(()=>r._asyncData[o.value]?.pending),status:W(()=>r._asyncData[o.value]?.status),error:W(()=>r._asyncData[o.value]?.error),refresh:(...D)=>r._asyncData[o.value].execute(...D),execute:(...D)=>r._asyncData[o.value].execute(...D),clear:()=>te(r,o.value)},y=Promise.resolve(r._asyncDataPromises[o.value]).then(()=>_);return Object.assign(y,_),y}function W(s){return E({get(){return s()?.value},set(a){const e=s();e&&(e.value=a)}})}function Ie(s,a){return!(typeof s=="string"||typeof s=="object"&&s!==null||typeof s=="function"&&typeof a=="function")}function te(s,a){a in s.payload.data&&(s.payload.data[a]=void 0),a in s.payload._errors&&(s.payload._errors[a]=void 0),s._asyncData[a]&&(s._asyncData[a].data.value=H(s._asyncData[a]._default()),s._asyncData[a].error.value=void 0,s._asyncData[a].status.value="idle"),a in s._asyncDataPromises&&(s._asyncDataPromises[a]&&(s._asyncDataPromises[a].cancelled=!0),s._asyncDataPromises[a]=void 0)}function Ne(s,a){const e={};for(const t of a)e[t]=s[t];return e}function Y(s,a,e,t,i){s.payload._errors[a]??=void 0;const o=t.getCachedData!==se,r=e,v=t.deep?w:Z,u=i!==void 0,p=s.hook("app:data:refresh",async _=>{(!_||_.includes(a))&&await g.execute({cause:"refresh:hook"})}),g={data:v(u?i:t.default()),pending:E(()=>g.status.value==="pending"),error:ve(s.payload._errors,a),status:Z("idle"),execute:(..._)=>{const[y,D=void 0]=_,m=y&&D===void 0&&typeof y=="object"?y:{};if(s._asyncDataPromises[a]){if((m.dedupe??t.dedupe)==="defer")return s._asyncDataPromises[a];s._asyncDataPromises[a].cancelled=!0}{const x="cachedData"in m?m.cachedData:t.getCachedData(a,s,{cause:m.cause??"refresh:manual"});if(x!==void 0)return s.payload.data[a]=g.data.value=x,g.error.value=void 0,g.status.value="success",Promise.resolve(x)}g.status.value="pending";const O=new Promise((x,B)=>{try{x(r(s))}catch($){B($)}}).then(async x=>{if(O.cancelled)return s._asyncDataPromises[a];let B=x;t.transform&&(B=await t.transform(x)),t.pick&&(B=Ne(B,t.pick)),s.payload.data[a]=B,g.data.value=B,g.error.value=void 0,g.status.value="success"}).catch(x=>{if(O.cancelled)return s._asyncDataPromises[a];g.error.value=ye(x),g.data.value=H(t.default()),g.status.value="error"}).finally(()=>{O.cancelled||delete s._asyncDataPromises[a]});return s._asyncDataPromises[a]=O,s._asyncDataPromises[a]},_execute:Me((..._)=>g.execute(..._),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{p(),s._asyncData[a]?._init&&(s._asyncData[a]._init=!1),o||ge(()=>{s._asyncData[a]?._init||(te(s,a),g.execute=()=>Promise.resolve())})}};return g}const qe=()=>{},se=(s,a,e)=>{if(a.isHydrating)return a.payload.data[s];if(e.cause!=="refresh:manual"&&e.cause!=="refresh:hook")return a.static.data[s]};function Le(s,a,e){const[t={},i]=typeof a=="string"?[{},a]:[a,e],o=E(()=>A(s)),r=E(()=>A(t.key)||"$f"+I([i,typeof o.value=="string"?o.value:"",...Ve(t)]));if(!t.baseURL&&typeof o.value=="string"&&o.value[0]==="/"&&o.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:v,lazy:u,default:p,transform:g,pick:_,watch:y,immediate:D,getCachedData:m,deep:O,dedupe:x,...B}=t,$=K({...me,...B,cache:typeof t.cache=="boolean"?void 0:t.cache}),b={server:v,lazy:u,default:p,transform:g,pick:_,immediate:D,getCachedData:m,deep:O,dedupe:x,watch:y===!1?[]:[...y||[],$]};let d;return Fe(y===!1?r.value:r,()=>{d?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),d=typeof AbortController<"u"?new AbortController:{};const n=A(t.timeout);let k;return n&&(k=setTimeout(()=>d.abort(new DOMException("Request aborted due to timeout.","AbortError")),n),d.signal.onabort=()=>clearTimeout(k)),(t.$fetch||globalThis.$fetch)(o.value,{signal:d.signal,...$}).finally(()=>{clearTimeout(k)})},b)}function Ve(s){const a=[A(s.method)?.toUpperCase()||"GET",A(s.baseURL)];for(const e of[s.params||s.query]){const t=A(e);if(!t)continue;const i={};for(const[o,r]of Object.entries(t))i[A(o)]=A(r);a.push(i)}if(s.body){const e=A(s.body);if(!e)a.push(I(e));else if(e instanceof ArrayBuffer)a.push(I(Object.fromEntries([...new Uint8Array(e).entries()].map(([t,i])=>[t,i.toString()]))));else if(e instanceof FormData){const t={};for(const i of e.entries()){const[o,r]=i;t[o]=r instanceof File?r.name:r}a.push(I(t))}else if(pe(e))a.push(I(K(e)));else try{a.push(I(e))}catch{console.warn("[useFetch] Failed to hash body",e)}}return a}const Ge={class:"select-shoing-wrap d-flex align-items-center"},We={class:"header-bottom-set dropdown"},He={class:"dropdown-toggle header-action-btn","data-bs-toggle":"dropdown"},Je={class:"dropdown-menu dropdown-menu-right"},Qe={__name:"ProductAppSortedGoods",emits:["update:sortOption"],setup(s,{emit:a}){const e=a,t=w("default"),i={alphabetical:"по алфавиту",price_asc:"по низкой цене",price_desc:"по высокой цене",default:"по умолчанию"},o=E(()=>i[t.value]),r=v=>{t.value=v,e("update:sortOption",v)};return(v,u)=>(f(),h("div",Ge,[u[5]||(u[5]=l("div",{class:"shot-product"},[l("p",null,"Сортировать:")],-1)),l("div",We,[l("button",He,[be(S(o.value)+" ",1),u[4]||(u[4]=l("i",{class:"fa fa-angle-down"},null,-1))]),l("ul",Je,[l("li",null,[l("a",{class:"dropdown-item",href:"#",onClick:u[0]||(u[0]=z(p=>r("alphabetical"),["prevent"]))}," по алфавиту")]),l("li",null,[l("a",{class:"dropdown-item",href:"#",onClick:u[1]||(u[1]=z(p=>r("price_asc"),["prevent"]))}," по низкой цене ")]),l("li",null,[l("a",{class:"dropdown-item",href:"#",onClick:u[2]||(u[2]=z(p=>r("price_desc"),["prevent"]))}," по высокой цене ")]),l("li",null,[l("a",{class:"dropdown-item",href:"#",onClick:u[3]||(u[3]=z(p=>r("default"),["prevent"]))}," по умолчанию ")])])])]))}},Ze={class:"col-lg-3 order-lg-first col-md-12 order-md-last"},Xe={class:"shop-sidebar-wrap"},Ye={key:0,class:"sidebar-widget"},Ke={class:"sidebar-widget-category"},et={class:"subcategories"},tt=["onClick"],st={key:1,class:"sidebar-widget"},at={class:"sidebar-widget-category"},it=["onClick"],nt={key:2,class:"sidebar-widget"},rt={class:"sidebar-widget-category"},ot=["onClick"],lt={key:3,class:"sidebar-widget"},ct={class:"sidebar-widget-color"},ut={class:"d-flex flex-wrap"},dt=["data-color","onClick"],ft={key:4,class:"sidebar-widget"},ht={class:"sidebar-widget-category"},vt=["onClick"],gt={key:5,class:"sidebar-widget"},yt={class:"sidebar-widget-category"},_t=["onClick"],mt={key:6,class:"sidebar-widget"},pt={class:"sidebar-widget-category"},bt=["onClick"],wt={key:7,class:"sidebar-widget"},Dt={class:"sidebar-widget-category"},$t=["onClick"],xt={key:8,class:"sidebar-widget"},Ct={class:"sidebar-widget-size"},Bt=["onClick"],kt={key:9,class:"sidebar-widget"},Ot={class:"sidebar-widget-category"},zt={id:"brands-list"},St=["onClick"],Pt={id:"hidden-brands"},jt=["onClick"],Tt={key:0},Et={__name:"FiltersAppCategoryFilters",props:{subcategories:{type:Array,default:()=>[]},patterns:{type:Array,default:()=>[]},weights:{type:Array,default:()=>[]},colors:{type:Array,default:()=>[]},glues:{type:Array,default:()=>[]},mixture_types:{type:Array,default:()=>[]},seams:{type:Array,default:()=>[]},textures:{type:Array,default:()=>[]},sizes:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]},initialFilters:{type:Object,default:()=>({brands:[],min_price:"",max_price:"",colors:[],patterns:[],weights:[],subcategories:[],glues:[],mixture_types:[],seams:[],textures:[],sizes:[]})}},emits:["update:filters"],setup(s,{emit:a}){const e=s,t=a,i=w(e.initialFilters.brands),o=w(e.initialFilters.colors),r=w(e.initialFilters.patterns),v=w(e.initialFilters.weights),u=w(e.initialFilters.subcategories),p=w(e.initialFilters.glues),g=w(e.initialFilters.mixture_types),_=w(e.initialFilters.seams),y=w(e.initialFilters.textures),D=w(e.initialFilters.sizes),m=w(!1),O=E(()=>e.brands.slice(0,5)),x=E(()=>e.brands.slice(5)),B=()=>{m.value=!m.value},$=(d,c)=>{if(d==="brand"){const n=i.value.indexOf(c);n===-1?i.value.push(c):i.value.splice(n,1)}else if(d==="color"){const n=o.value.indexOf(c);n===-1?o.value.push(c):o.value.splice(n,1)}else if(d==="pattern"){const n=r.value.indexOf(c);n===-1?r.value.push(c):r.value.splice(n,1)}else if(d==="weight"){const n=v.value.indexOf(c);n===-1?v.value.push(c):v.value.splice(n,1)}else if(d==="subcategory"){const n=u.value.indexOf(c);n===-1?u.value.push(c):u.value.splice(n,1)}else if(d==="glue"){const n=p.value.indexOf(c);n===-1?p.value.push(c):p.value.splice(n,1)}else if(d==="mixture_type"){const n=g.value.indexOf(c);n===-1?g.value.push(c):g.value.splice(n,1)}else if(d==="seam"){const n=_.value.indexOf(c);n===-1?_.value.push(c):_.value.splice(n,1)}else if(d==="texture"){const n=y.value.indexOf(c);n===-1?y.value.push(c):y.value.splice(n,1)}else if(d==="size"){const n=D.value.indexOf(c);n===-1?D.value.push(c):D.value.splice(n,1)}b()},b=()=>{t("update:filters",{brands:i.value,colors:o.value,patterns:r.value,weights:v.value,subcategories:u.value,glues:p.value,mixture_types:g.value,seams:_.value,textures:y.value,sizes:D.value})};return q(()=>e.initialFilters,d=>{i.value=d.brands||[],o.value=d.colors||[],r.value=d.patterns||[],v.value=d.weights||[],u.value=d.subcategories||[],p.value=d.glues||[],g.value=d.mixture_types||[],_.value=d.seams||[],y.value=d.textures||[],D.value=d.sizes||[]},{deep:!0}),(d,c)=>(f(),h("div",Ze,[l("div",Xe,[s.subcategories&&s.subcategories.length?(f(),h("div",Ye,[c[0]||(c[0]=l("h4",{class:"sidebar-title"},"Тип",-1)),l("div",Ke,[l("ul",null,[l("div",et,[(f(!0),h(j,null,T(s.subcategories,n=>(f(),h("li",{class:"dropdown position-static",key:n.id},[l("a",{href:"#",onClick:z(k=>$("subcategory",n.id),["prevent"])},S(n.name),9,tt)]))),128))])])])])):P("",!0),s.patterns&&s.patterns.length?(f(),h("div",st,[c[1]||(c[1]=l("h4",{class:"sidebar-title"},"Рисунок",-1)),l("div",at,[l("ul",null,[(f(!0),h(j,null,T(s.patterns,n=>(f(),h("li",{class:"dropdown position-static",key:n.id},[l("a",{href:"#",onClick:z(k=>$("pattern",n.id),["prevent"])},S(n.name),9,it)]))),128))])])])):P("",!0),s.weights&&s.weights.length?(f(),h("div",nt,[c[2]||(c[2]=l("h4",{class:"sidebar-title"},"Вес (кг)",-1)),l("div",rt,[l("ul",null,[(f(!0),h(j,null,T(s.weights,n=>(f(),h("li",{class:"color-list weight",key:n.id},[l("a",{href:"#",class:"text-white",onClick:z(k=>$("weight",n.id),["prevent"])},S(n.value),9,ot)]))),128))])])])):P("",!0),s.colors&&s.colors.length?(f(),h("div",lt,[c[3]||(c[3]=l("h4",{class:"sidebar-title"},"Цвет",-1)),l("div",ct,[l("ul",ut,[(f(!0),h(j,null,T(s.colors,n=>(f(),h("li",{class:"color-list",key:n.id},[l("a",{href:"#",style:we({backgroundColor:n.hex_code}),class:"colors-filter","data-color":n.name,onClick:z(k=>$("color",n.id),["prevent"])},null,12,dt)]))),128))])])])):P("",!0),s.glues&&s.glues.length?(f(),h("div",ft,[c[4]||(c[4]=l("h4",{class:"sidebar-title"},"Использовать в качестве клея",-1)),l("div",ht,[l("ul",null,[(f(!0),h(j,null,T(s.glues,n=>(f(),h("li",{class:"color-list weight",key:n.id},[l("a",{href:"#",class:"text-white",onClick:z(k=>$("glue",n.id),["prevent"])},S(n.name),9,vt)]))),128))])])])):P("",!0),s.mixture_types&&s.mixture_types.length?(f(),h("div",gt,[c[5]||(c[5]=l("h4",{class:"sidebar-title"},"Тип смеси",-1)),l("div",yt,[l("ul",null,[(f(!0),h(j,null,T(s.mixture_types,n=>(f(),h("li",{key:n.id},[l("a",{href:"#",onClick:z(k=>$("mixture_type",n.id),["prevent"])},S(n.name),9,_t)]))),128))])])])):P("",!0),s.seams&&s.seams.length?(f(),h("div",mt,[c[6]||(c[6]=l("h4",{class:"sidebar-title"},"Ширина шва (мм)",-1)),l("div",pt,[l("ul",null,[(f(!0),h(j,null,T(s.seams,n=>(f(),h("li",{class:"color-list weight",key:n.id},[l("a",{href:"#",class:"text-white",onClick:z(k=>$("seam",n.id),["prevent"])},S(n.value),9,bt)]))),128))])])])):P("",!0),s.textures&&s.textures.length?(f(),h("div",wt,[c[7]||(c[7]=l("h4",{class:"sidebar-title"},"Поверхность",-1)),l("div",Dt,[l("ul",null,[(f(!0),h(j,null,T(s.textures,n=>(f(),h("li",{key:n.id},[l("a",{href:"#",onClick:z(k=>$("texture",n.id),["prevent"])},S(n.name),9,$t)]))),128))])])])):P("",!0),s.sizes&&s.sizes.length?(f(),h("div",xt,[c[8]||(c[8]=l("h4",{class:"sidebar-title"},"Размер",-1)),l("div",Ct,[l("ul",null,[(f(!0),h(j,null,T(s.sizes,n=>(f(),h("li",{key:n.id},[l("a",{href:"#",onClick:z(k=>$("size",n.id),["prevent"])},S(n.value),9,Bt)]))),128))])])])):P("",!0),s.brands&&s.brands.length?(f(),h("div",kt,[c[9]||(c[9]=l("h4",{class:"sidebar-title"},"Производитель",-1)),l("div",Ot,[l("ul",zt,[(f(!0),h(j,null,T(O.value,n=>(f(),h("li",{key:n.id},[l("a",{href:"#",onClick:z(k=>$("brand",n.id),["prevent"])},S(n.name),9,St)]))),128)),De(l("div",Pt,[(f(!0),h(j,null,T(x.value,n=>(f(),h("li",{key:n.id},[l("a",{href:"#",onClick:z(k=>$("brand",n.id),["prevent"])},S(n.name),9,jt)]))),128))],512),[[$e,m.value]]),s.brands.length>5?(f(),h("li",Tt,[l("a",{href:"#",id:"show-all-brands",class:"show-more-link",onClick:z(B,["prevent"])},S(m.value?"Скрыть":"Показать все"),1)])):P("",!0)])])])):P("",!0),c[10]||(c[10]=l("div",{class:"sidebar-widget"},[l("div",{class:""},[l("a",{href:"/",class:"btn-filter"}," Сбросить фильтры ")])],-1))])]))}},At=ee(Et,[["__scopeId","data-v-f3def622"]]),Mt={class:"shop-category-area pt-100px pb-100px"},Rt={class:"container"},Ut={key:0,class:"loading"},Ft={key:1,class:"error"},It={key:2,class:"text-center mt-2"},Nt={key:3,class:"row"},qt={class:"col-lg-9 order-lg-last col-md-12 order-md-first"},Lt={class:"shop-top-bar d-flex justify-content-between mb-3"},Vt={class:"category-text"},Gt={key:0,class:"h3 m-0"},Wt={key:1},Ht={class:"shop-bottom-area"},Jt={class:"row"},Qt={class:"col"},Zt={class:"tab-content"},Xt={class:"tab-pane fade show active",id:"shop-grid"},Yt={class:"row mb-n-30px"},Kt={key:0},es={class:"pagination"},ts=["onClick"],ss={__name:"[slug]",setup(s){const e=xe().params.slug,t=w({brands:[],min_price:"",max_price:"",colors:[],patterns:[],weights:[],subcategories:[],glues:[],mixture_types:[],seams:[],textures:[],sizes:[]}),i=w([]),o=w(""),r=w(""),v=w("default"),u=w(1),p=w([]),g=w([]),_=w([]),y=w([]),D=w([]),m=w([]),O=w([]),x=w([]),B=w([]),$=(C,V)=>{let G;return function(...J){const Q=this;clearTimeout(G),G=setTimeout(()=>C.apply(Q,J),V)}},b=E(()=>({brands:i.value,min_price:o.value,max_price:r.value,sort:v.value,page:u.value,colors:p.value,patterns:g.value,weights:_.value,subcategories:y.value,glues:D.value,mixture_types:m.value,seams:O.value,textures:x.value,sizes:B.value})),{data:d,pending:c,error:n,refresh:k}=Le(`http://localhost/api/category/${e}/products`,{query:b},"$5tT3ZS0dQJ"),M=$(k,300);q(b,()=>{M()},{deep:!0});const L=E(()=>d.value?.category||null),R=E(()=>d.value?.products||null);q(d,C=>{C&&C.filters&&Object.assign(t.value,C.filters)},{immediate:!0});const ae=C=>{i.value=C.brands,p.value=C.colors||[],g.value=C.patterns||[],_.value=C.weights||[],y.value=C.subcategories||[],D.value=C.glues||[],m.value=C.mixture_types||[],O.value=C.seams||[],x.value=C.textures||[],B.value=C.sizes||[],u.value=1},ie=C=>{u.value=C},ne=C=>{v.value=C,u.value=1},re=E(()=>n.value&&!c.value&&!n.value.message.includes("Request aborted")&&n.value.name!=="AbortError");return(C,V)=>{const G=Qe,J=ke,Q=At;return f(),h("main",Mt,[l("div",Rt,[H(c)?(f(),h("div",Ut," Загрузка товаров... ")):re.value?(f(),h("div",Ft," Ошибка загрузки: "+S(H(n).message),1)):!R.value||!R.value.data||R.value.data.length===0?(f(),h("div",It,[...V[0]||(V[0]=[l("h1",null,"Список товаров пуст",-1)])])):(f(),h("div",Nt,[l("div",qt,[l("div",Lt,[l("div",Vt,[L.value?(f(),h("h1",Gt,S(L.value.name),1)):P("",!0),L.value?(f(),h("p",Wt,S(L.value.description),1)):P("",!0)]),X(G,{"onUpdate:sortOption":ne})]),l("div",Ht,[l("div",Jt,[l("div",Qt,[l("div",Zt,[l("div",Xt,[l("div",Yt,[(f(!0),h(j,null,T(R.value.data,U=>(f(),Ce(J,{key:U.id,product:U},null,8,["product"]))),128))])])])])]),R.value.last_page>1?(f(),h("nav",Kt,[l("ul",es,[(f(!0),h(j,null,T(R.value.last_page,U=>(f(),h("li",{key:U,class:Be(["page-item",{active:R.value.current_page===U}])},[l("a",{class:"page-link",href:"#",onClick:z(as=>ie(U),["prevent"])},S(U),9,ts)],2))),128))])])):P("",!0)])]),X(Q,{initialFilters:t.value,"onUpdate:filters":ae},null,8,["initialFilters"])]))])])}}},os=ee(ss,[["__scopeId","data-v-a4df727c"]]);export{os as default};
