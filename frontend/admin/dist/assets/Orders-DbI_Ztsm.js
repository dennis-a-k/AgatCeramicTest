import{r,b as R,c as j,w as q,o as z,a as l,e as p,d as e,f as A}from"./index-CgbsGXzC.js";import{a as H,_ as J,P as K}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-D4jVCWQ3.js";import{_ as L,a as W,b as X,c as Y,D as Z,S as ee}from"./GoodsPagination-CLBUdK8d.js";import{P as oe,S as se}from"./DeleteConfirmationModal-CcbG3fwD.js";import{u as ae}from"./useGoods-CByg4lu5.js";import{u as te}from"./useCategories-BM9NyCLb.js";const le={class:"space-y-5 sm:space-y-6"},ne={class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},he={__name:"Orders",setup(re){const h=A(),P=r("Заказы"),m=K,b=Z,f=oe,I=ee,k=se,{products:x,loading:v,error:w,sort:_,page:y,itemsPerPage:S,totalItems:c,totalPages:N,searchQuery:d,selectedCategory:i,filters:a,visiblePages:T,formatter:$,fetchProducts:u,handleSortBy:B,handlePrevPage:D,handleNextPage:F,handleGoToPage:U,deleteProduct:C}=ae(),{categories:G,fetchCategories:O}=te(),g=r(!1),n=r(!1),Q=()=>{n.value=!n.value},E=t=>{i.value=t.value===null?null:t,n.value=!1},V=t=>{h.push(`/products/edit/${t.id}`)},M=async(t,o)=>{const s=await C(t.id);o(s)};return R(()=>{O(),u()}),(t,o)=>(z(),j(H,null,{default:q(()=>[l(J,{pageTitle:P.value},null,8,["pageTitle"]),p("div",le,[p("div",ne,[l(L,{totalItems:e(c),packageIcon:e(m),downloadIcon:e(b),plusIcon:e(f)},null,8,["totalItems","packageIcon","downloadIcon","plusIcon"]),l(W,{searchQuery:e(d),categories:e(G),selectedItem:e(i),isOpen:n.value,showFilter:g.value,checkboxSale:e(a).sale.true,checkboxNoSale:e(a).sale.false,checkboxPublished:e(a).published.true,checkboxNoPublished:e(a).published.false,searchIcon:e(k),settingsIcon:e(I),"onUpdate:searchQuery":o[0]||(o[0]=s=>d.value=s),onToggleDropdown:Q,onToggleItem:E,"onUpdate:showFilter":o[1]||(o[1]=s=>g.value=s),"onUpdate:checkboxSale":o[2]||(o[2]=s=>e(a).sale.true=s),"onUpdate:checkboxNoSale":o[3]||(o[3]=s=>e(a).sale.false=s),"onUpdate:checkboxPublished":o[4]||(o[4]=s=>e(a).published.true=s),"onUpdate:checkboxNoPublished":o[5]||(o[5]=s=>e(a).published.false=s)},null,8,["searchQuery","categories","selectedItem","isOpen","showFilter","checkboxSale","checkboxNoSale","checkboxPublished","checkboxNoPublished","searchIcon","settingsIcon"]),l(X,{loading:e(v),error:e(w),products:e(x),formatter:e($),sort:e(_),onSortBy:e(B),onFetchProducts:e(u),onEdit:V,onDelete:M},null,8,["loading","error","products","formatter","sort","onSortBy","onFetchProducts"]),l(Y,{page:e(y),totalPages:e(N),totalItems:e(c),itemsPerPage:e(S),visiblePages:e(T),onPrevPage:e(D),onNextPage:e(F),onGoToPage:e(U)},null,8,["page","totalPages","totalItems","itemsPerPage","visiblePages","onPrevPage","onNextPage","onGoToPage"])])])]),_:1}))}};export{he as default};
