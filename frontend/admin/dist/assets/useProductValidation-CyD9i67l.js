import{B as S,o as n,b as i,d as r,e as y,v as k,n as g,t as p,f as b,z as T,F as C,x as U,C as F,s as I,m as L,r as x,w as v,D as J,g as q,a as H}from"./index-C1kSt3j9.js";import{_ as N,a as O}from"./useCategories-C6KheGIg.js";const W={class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},K={class:"space-y-5 p-4 sm:p-6 dark:border-gray-800"},Q={key:0,class:"mt-1.5 text-theme-xs text-error-500"},X={class:"grid grid-cols-1 gap-5 md:grid-cols-3"},Y={class:"relative z-20 bg-transparent"},Z={class:"relative z-20 bg-transparent"},ee=["value"],re={key:0,class:"mt-1.5 text-theme-xs text-error-500"},te={class:"relative z-20 bg-transparent"},oe={class:"relative z-20 bg-transparent"},ae=["value"],se={key:0,class:"mt-1.5 text-theme-xs text-error-500"},le={class:"relative z-20 bg-transparent"},de={class:"relative z-20 bg-transparent"},ne=["value"],ie={key:0,class:"mt-1.5 text-theme-xs text-error-500"},ue={key:0,class:"mt-1.5 text-theme-xs text-error-500"},ce={key:0,class:"mt-1.5 text-theme-xs text-error-500"},pe={key:0,class:"mt-1.5 text-theme-xs text-error-500"},ge={class:"flex space-x-6"},be={for:"product-unit1",class:"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"},me={for:"product-unit2",class:"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"},ye={class:"flex space-x-6"},ve={class:"col-span-full"},he={key:0,class:"mt-1.5 text-theme-xs text-error-500"},sr=S({__name:"ProductCharacteristics",props:{product:{},errors:{},categories:{},brands:{},colors:{}},setup(s){const a=e=>e?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 w-full resize-none rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 w-full resize-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30",l=e=>e?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none";return(e,t)=>(n(),i("div",W,[t[29]||(t[29]=r("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[r("h2",{class:"text-lg font-medium text-gray-800 dark:text-white"}," Характеристики товара ")],-1)),r("div",K,[t[28]||(t[28]=r("label",{for:"product-name",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Наименование",-1)),y(r("input",{type:"text",id:"product-name",class:g(l(e.errors.name)),placeholder:"Наименование товара","onUpdate:modelValue":t[0]||(t[0]=o=>e.product.name=o)},null,2),[[k,e.product.name]]),e.errors.name?(n(),i("p",Q,p(e.errors.name),1)):b("",!0),r("div",X,[r("div",Y,[t[14]||(t[14]=r("label",{for:"product-category",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Категория",-1)),r("div",Z,[y(r("select",{id:"product-category","onUpdate:modelValue":t[1]||(t[1]=o=>e.product.category_id=o),class:g(l(e.errors.category)),required:""},[t[12]||(t[12]=r("option",{value:"",class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},"Выберите категорию",-1)),(n(!0),i(C,null,U(e.categories.slice(1),o=>(n(),i("option",{key:o.id,value:o.value,class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},p(o.label),9,ee))),128))],2),[[T,e.product.category_id]]),t[13]||(t[13]=r("span",{class:"pointer-events-none absolute top-1/2 right-4 z-30 -translate-y-1/2 text-gray-700 dark:text-gray-400"},[r("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e.errors.category?(n(),i("p",re,p(e.errors.category),1)):b("",!0)]),r("div",te,[t[17]||(t[17]=r("label",{for:"product-brand",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Бренд",-1)),r("div",oe,[y(r("select",{id:"product-brand","onUpdate:modelValue":t[2]||(t[2]=o=>e.product.brand_id=o),class:g(l(e.errors.brand)),required:""},[t[15]||(t[15]=r("option",{value:"",class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},"Выберите бренд",-1)),(n(!0),i(C,null,U(e.brands,o=>(n(),i("option",{key:o.id,value:o.id,class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},p(o.name),9,ae))),128))],2),[[T,e.product.brand_id]]),t[16]||(t[16]=r("span",{class:"pointer-events-none absolute top-1/2 right-4 z-30 -translate-y-1/2 text-gray-700 dark:text-gray-400"},[r("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e.errors.brand?(n(),i("p",se,p(e.errors.brand),1)):b("",!0)]),r("div",le,[t[20]||(t[20]=r("label",{for:"product-color",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Цвет",-1)),r("div",de,[y(r("select",{id:"product-color","onUpdate:modelValue":t[3]||(t[3]=o=>e.product.color_id=o),class:g(l(e.errors.color)),required:""},[t[18]||(t[18]=r("option",{value:"",class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},"Выберите цвет",-1)),(n(!0),i(C,null,U(e.colors,o=>(n(),i("option",{key:o.id,value:o.id,class:"text-gray-700 dark:bg-gray-900 dark:text-gray-400"},p(o.name),9,ne))),128))],2),[[T,e.product.color_id]]),t[19]||(t[19]=r("span",{class:"pointer-events-none absolute top-1/2 right-4 z-30 -translate-y-1/2 text-gray-700 dark:text-gray-400"},[r("svg",{class:"stroke-current",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M4.79175 7.396L10.0001 12.6043L15.2084 7.396",stroke:"","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))]),e.errors.color?(n(),i("p",ie,p(e.errors.color),1)):b("",!0)]),r("div",null,[t[21]||(t[21]=r("label",{for:"product-price",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Цена",-1)),y(r("input",{type:"number",step:"0.01",id:"product-price",min:"0",class:g(l(e.errors.price)),placeholder:"Стоимость товара","onUpdate:modelValue":t[4]||(t[4]=o=>e.product.price=o)},null,2),[[k,e.product.price,void 0,{number:!0}]]),e.errors.price?(n(),i("p",ue,p(e.errors.price),1)):b("",!0)]),r("div",null,[t[22]||(t[22]=r("label",{for:"product-country",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Страна",-1)),y(r("input",{type:"text",id:"product-country",class:g(l(e.errors.country)),placeholder:"Страна производитель","onUpdate:modelValue":t[5]||(t[5]=o=>e.product.country=o)},null,2),[[k,e.product.country]]),e.errors.country?(n(),i("p",ce,p(e.errors.country),1)):b("",!0)]),r("div",null,[t[23]||(t[23]=r("label",{for:"product-product_code",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Код товара поставщика",-1)),y(r("input",{type:"text",id:"product-product_code",class:g(l(e.errors.productCode)),placeholder:"Код товара","onUpdate:modelValue":t[6]||(t[6]=o=>e.product.product_code=o)},null,2),[[k,e.product.product_code]]),e.errors.productCode?(n(),i("p",pe,p(e.errors.productCode),1)):b("",!0)]),r("div",null,[t[26]||(t[26]=r("div",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Единица измерения",-1)),r("div",ge,[r("label",be,[y(r("input",{id:"product-unit1",type:"radio","onUpdate:modelValue":t[7]||(t[7]=o=>e.product.unit=o),value:"шт",class:"sr-only"},null,512),[[F,e.product.unit]]),r("div",{class:g([e.product.unit==="шт"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[r("span",{class:g([e.product.unit==="шт"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),t[24]||(t[24]=I(" шт. "))]),r("label",me,[y(r("input",{id:"product-unit2",type:"radio","onUpdate:modelValue":t[8]||(t[8]=o=>e.product.unit=o),value:"кв.м",class:"sr-only"},null,512),[[F,e.product.unit]]),r("div",{class:g([e.product.unit==="кв.м"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[r("span",{class:g([e.product.unit==="кв.м"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),t[25]||(t[25]=I(" м² "))])])]),r("div",ye,[L(N,{id:"is_published",label:"Опубликован",checked:e.product.is_published,"onUpdate:checked":t[9]||(t[9]=o=>e.product.is_published=o)},null,8,["checked"]),L(N,{id:"is_sale",label:"Распродажа",checked:e.product.is_sale,"onUpdate:checked":t[10]||(t[10]=o=>e.product.is_sale=o)},null,8,["checked"])]),r("div",ve,[t[27]||(t[27]=r("label",{for:"product-description",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Описание",-1)),y(r("textarea",{id:"product-description",placeholder:"Полное описание товара",type:"text",rows:"7","onUpdate:modelValue":t[11]||(t[11]=o=>e.product.description=o),class:g(a(e.errors.description))},null,2),[[k,e.product.description]]),e.errors.description?(n(),i("p",he,p(e.errors.description),1)):b("",!0)])])])]))}}),ke={key:0,class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},fe={class:"space-y-5 p-4 sm:p-6"},xe={class:"grid grid-cols-1 gap-5 md:grid-cols-3"},we={key:0,class:"mt-1.5 text-theme-xs text-error-500"},$e={key:0,class:"mt-1.5 text-theme-xs text-error-500"},_e={key:0,class:"mt-1.5 text-theme-xs text-error-500"},lr=S({__name:"CeramicCharacteristics",props:{product:{},errors:{},categories:{},isCeramicCategory:{type:Boolean}},setup(s){const a=l=>l?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30";return(l,e)=>l.isCeramicCategory?(n(),i("div",ke,[e[6]||(e[6]=r("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[r("h2",{class:"text-lg font-medium text-gray-800 dark:text-white"}," Характеристики для керамики ")],-1)),r("div",fe,[r("div",xe,[r("div",null,[e[3]||(e[3]=r("label",{for:"product-texture",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Поверхность",-1)),y(r("input",{type:"text",id:"product-texture",class:g(a(l.errors.texture)),placeholder:"Тип поверхности","onUpdate:modelValue":e[0]||(e[0]=t=>l.product.texture=t)},null,2),[[k,l.product.texture]]),l.errors.texture?(n(),i("p",we,p(l.errors.texture),1)):b("",!0)]),r("div",null,[e[4]||(e[4]=r("label",{for:"product-pattern",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Рисунок",-1)),y(r("input",{type:"text",id:"product-pattern",class:g(a(l.errors.pattern)),placeholder:"Тип рисунка или монотон","onUpdate:modelValue":e[1]||(e[1]=t=>l.product.pattern=t)},null,2),[[k,l.product.pattern]]),l.errors.pattern?(n(),i("p",$e,p(l.errors.pattern),1)):b("",!0)]),r("div",null,[e[5]||(e[5]=r("label",{for:"product-collection",class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Коллекция",-1)),y(r("input",{type:"text",id:"product-collection",class:g(a(l.errors.collection)),placeholder:"Коллекция товара","onUpdate:modelValue":e[2]||(e[2]=t=>l.product.collection=t)},null,2),[[k,l.product.collection]]),l.errors.collection?(n(),i("p",_e,p(l.errors.collection),1)):b("",!0)])])])])):b("",!0)}}),Ce={class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},Ue={class:"space-y-5 p-4 sm:p-6"},Ve={class:"grid grid-cols-1 gap-5 md:grid-cols-3"},je={key:0},Pe=["for"],Ae=["id","onUpdate:modelValue"],Be={key:0,class:"mt-1.5 text-theme-xs text-error-500"},ze={key:1},Ee=["for"],Le=["id","onUpdate:modelValue"],Se={key:2,class:"h-full flex"},De={key:3},Me=["for"],Te=["id","onUpdate:modelValue"],G="dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30",Ie="dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 w-full resize-none rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30",dr=S({__name:"AdditionalCharacteristics",props:{product:{}},setup(s){return(a,l)=>(n(),i("div",Ce,[l[0]||(l[0]=r("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[r("h2",{class:"text-lg font-medium text-gray-800 dark:text-white"},[I(" Дополнительные характеристики товара"),r("br")])],-1)),r("div",Ue,[r("div",Ve,[(n(!0),i(C,null,U(a.product.attribute_values,(e,t)=>(n(),i("div",{key:e.attribute.id},[e.attribute.type==="string"?(n(),i("div",je,[r("label",{for:`attr-string${e.attribute.id}`,class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},p(e.attribute.name)+" "+p(e.attribute.unit?`(${e.attribute.unit})`:""),9,Pe),y(r("input",{id:`attr-string${e.attribute.id}`,type:"text","onUpdate:modelValue":o=>e.string_value=o,class:g(G)},null,8,Ae),[[k,e.string_value]]),e.error?(n(),i("p",Be,p(e.error),1)):b("",!0)])):e.attribute.type==="number"?(n(),i("div",ze,[r("label",{for:`attr-number${e.attribute.id}`,class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},p(e.attribute.name)+" "+p(e.attribute.unit?`(${e.attribute.unit})`:""),9,Ee),y(r("input",{id:`attr-number${e.attribute.id}`,type:"number",step:"0.01",min:"0","onUpdate:modelValue":o=>e.number_value=o,class:g(G)},null,8,Le),[[k,e.number_value,void 0,{number:!0}]])])):e.attribute.type==="boolean"?(n(),i("div",Se,[L(N,{id:"attr-"+e.attribute.id,label:e.attribute.name,checked:e.boolean_value,"onUpdate:checked":o=>e.boolean_value=o},null,8,["id","label","checked","onUpdate:checked"])])):e.attribute.type==="text"?(n(),i("div",De,[r("label",{for:`attr-text${e.attribute.id}`,class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},p(e.attribute.name)+" "+p(e.attribute.unit?`(${e.attribute.unit})`:""),9,Me),y(r("textarea",{id:`attr-text${e.attribute.id}`,rows:"4","onUpdate:modelValue":o=>e.text_value=o,class:g(Ie)},null,8,Te),[[k,e.text_value]])])):b("",!0)]))),128))])])]))}}),Ne={class:"rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},Re={class:"p-4 sm:p-6"},Fe={key:0,class:"mb-4"},Ge={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Je=["onDragstart","onDrop"],qe=["src","alt"],He=["onClick"],Oe={class:"absolute bottom-1 left-1 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded"},We={key:1},Ke={for:"product-image",class:"shadow-theme-xs group hover:border-brand-500 block cursor-pointer rounded-lg border-2 border-dashed border-gray-300 transition dark:border-gray-800"},Qe={key:2,class:"mt-4"},Xe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},Ye=["src","alt"],Ze=["onClick"],er={key:3,class:"text-sm text-gray-500 mt-2"},nr=S({__name:"ProductImageUpload",props:{modelValue:{}},emits:["update:modelValue"],setup(s,{expose:a,emit:l}){const e=s,t=l,o=x([...e.modelValue]),u=x([]),f=x(null),$=x(null),P="http://test.dennistp.beget.tech";v(()=>e.modelValue,d=>{o.value=[...d]},{deep:!0}),v(o,d=>{t("update:modelValue",d)},{deep:!0});const A=d=>d.image_path.startsWith("http")?d.image_path:`${P}/storage/${d.image_path}`,B=d=>window.URL.createObjectURL(d),_=(d,c,m)=>{$.value={show:!0,type:d,title:c,message:m},setTimeout(()=>{$.value=null},5e3)},z=d=>{const c=d.target,m=c.files;if(!m)return;const h=["image/png","image/jpeg","image/jpg","image/webp"],w=5*1024*1024;for(let V=0;V<m.length;V++){const j=m[V];if(!h.includes(j.type)){_("error","Неподдерживаемый формат",`Файл ${j.name} имеет неподдерживаемый формат. Разрешены только PNG, JPG, JPEG, WEBP.`);continue}if(j.size>w){_("error","Файл слишком большой",`Файл ${j.name} слишком большой. Максимальный размер 5MB.`);continue}if(o.value.length+u.value.length>=5){_("error","Максимальное количество изображений","Максимальное количество изображений - 5.");break}u.value.push(j)}c.value=""},E=d=>{o.value.splice(d,1),o.value.forEach((c,m)=>{c.sort_order=m})},D=d=>{u.value.splice(d,1)},M=(d,c)=>{f.value=c,d.dataTransfer.effectAllowed="move"},R=(d,c)=>{const m=f.value;if(m===null||m===c)return;const h=o.value[m];o.value[m]=o.value[c],o.value[c]=h,o.value.forEach((w,V)=>{w.sort_order=V}),f.value=null};return a({newFiles:u}),(d,c)=>(n(),i("div",Ne,[L(O,{alert:$.value},null,8,["alert"]),c[4]||(c[4]=r("div",{class:"border-b border-gray-200 px-6 py-4 dark:border-gray-800"},[r("h2",{class:"text-lg font-medium text-gray-800 dark:text-white"}," Фото товара (макс. 5 изображений) ")],-1)),r("div",Re,[o.value.length>0?(n(),i("div",Fe,[c[1]||(c[1]=r("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Текущие фото:",-1)),r("div",Ge,[(n(!0),i(C,null,U(o.value,(m,h)=>(n(),i("div",{key:m.id||h,class:"relative group",draggable:"true",onDragstart:w=>M(w,h),onDragover:c[0]||(c[0]=q(()=>{},["prevent"])),onDrop:w=>R(w,h)},[r("img",{src:A(m),alt:`Фото ${h+1}`,class:"w-full h-24 object-cover rounded-lg border border-gray-200"},null,8,qe),r("button",{onClick:w=>E(h),class:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",type:"button"}," × ",8,He),r("div",Oe,p(h+1),1)],40,Je))),128))])])):b("",!0),o.value.length<5?(n(),i("div",We,[r("label",Ke,[c[2]||(c[2]=J('<div class="flex justify-center p-10"><div class="flex max-w-[260px] flex-col items-center gap-4"><div class="inline-flex h-13 w-13 items-center justify-center rounded-full border border-gray-200 text-gray-700 transition dark:border-gray-800 dark:text-gray-400"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M20.0004 16V18.5C20.0004 19.3284 19.3288 20 18.5004 20H5.49951C4.67108 20 3.99951 19.3284 3.99951 18.5V16M12.0015 4L12.0015 16M7.37454 8.6246L11.9994 4.00269L16.6245 8.6246" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><p class="text-center text-sm text-gray-500 dark:text-gray-400"><span class="font-medium text-gray-800 dark:text-white/90">Щелкните, чтобы загрузить,</span> или перетащите PNG, JPG, JPEG или WEBP (макс. 800x800 пикселей) </p></div></div>',1)),r("input",{type:"file",id:"product-image",class:"hidden",multiple:"",accept:".png,.jpg,.jpeg,.webp",onChange:z},null,32)])])):b("",!0),u.value.length>0?(n(),i("div",Qe,[c[3]||(c[3]=r("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Новые фото для загрузки: ",-1)),r("div",Xe,[(n(!0),i(C,null,U(u.value,(m,h)=>(n(),i("div",{key:h,class:"relative group"},[r("img",{src:B(m),alt:`Новое фото ${h+1}`,class:"w-full h-24 object-cover rounded-lg border border-gray-200"},null,8,Ye),r("button",{onClick:w=>D(h),class:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",type:"button"}," × ",8,Ze)]))),128))])])):b("",!0),o.value.length>=5?(n(),i("p",er," Достигнуто максимальное количество изображений (5) ")):b("",!0)])]))}}),rr="http://test.dennistp.beget.tech";function ir(){const s=x([]),a=x(!1),l=x(null);return{brands:s,loading:a,error:l,fetchAllBrands:async()=>{a.value=!0,l.value=null;const t=new URLSearchParams;t.append("per_page","all");const o=`${rr}/api/admin/brands${t.toString()?"?"+t.toString():""}`;try{const u=await fetch(o,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();s.value=f.data||[]}catch(u){l.value=u.message,console.error("Error fetching all brands:",u)}finally{a.value=!1}}}}const tr="http://test.dennistp.beget.tech";function ur(){const s=x([]),a=x(!1),l=x(null);return{colors:s,loading:a,error:l,fetchAllColors:async()=>{a.value=!0,l.value=null;const t=new URLSearchParams;t.append("per_page","all");const o=`${tr}/api/admin/colors${t.toString()?"?"+t.toString():""}`;try{const u=await fetch(o,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const f=await u.json();s.value=f.data||[]}catch(u){l.value=u.message,console.error("Error fetching all colors:",u)}finally{a.value=!1}}}}function cr(s){const a=H({}),l=()=>{s.value.name.trim()?s.value.name.length>255?a.name="Наименование не должно превышать 255 символов.":a.name="":a.name="Наименование обязательно."},e=()=>{!s.value.price||s.value.price<=0?a.price="Цена должна быть положительным числом.":a.price=""},t=()=>{s.value.product_code&&s.value.product_code.length>15?a.productCode="Код товара не должен превышать 15 символов.":a.productCode=""},o=()=>{s.value.unit?a.unit="":a.unit="Единица измерения обязательна."},u=()=>{s.value.category_id?a.category="":a.category="Категория обязательна."},f=()=>{s.value.brand_id?a.brand="":a.brand="Бренд обязателен."},$=()=>{s.value.color_id?a.color="":a.color="Цвет обязателен."},P=()=>{s.value.description.trim()?s.value.description.length<10?a.description="Описание должно содержать не менее 10 символов.":a.description="":a.description="Описание товара обязательно для заполнения."},A=()=>{s.value.texture&&s.value.texture.length>100?a.texture="Поверхность не должна превышать 100 символов.":a.texture=""},B=()=>{s.value.pattern&&s.value.pattern.length>100?a.pattern="Рисунок не должен превышать 100 символов.":a.pattern=""},_=()=>{s.value.country&&s.value.country.length>100?a.country="Страна не должна превышать 100 символов.":a.country=""},z=()=>{s.value.collection&&s.value.collection.length>255?a.collection="Коллекция не должна превышать 255 символов.":a.collection=""},E=()=>{for(const d of s.value.attribute_values)d.attribute.type==="string"&&(d.string_value&&d.string_value.length>255?d.error="Значение не должно превышать 255 символов.":d.error="")},D=()=>{l(),e(),t(),o(),u(),f(),$(),P(),A(),B(),_(),z(),E()},M=()=>Object.values(a).some(d=>d)||s.value.attribute_values.some(d=>d.error);return v(()=>s.value.description,P),v(()=>s.value.name,d=>{l(),d&&(s.value.slug=d.toLowerCase().replace(/[^a-zа-яё0-9]+/g,"-").replace(/^-|-$/g,""))}),v(()=>s.value.price,e),v(()=>s.value.product_code,t),v(()=>s.value.unit,o),v(()=>s.value.category_id,u),v(()=>s.value.brand_id,f),v(()=>s.value.color_id,$),v(()=>s.value.texture,A),v(()=>s.value.pattern,B),v(()=>s.value.country,_),v(()=>s.value.collection,z),v(()=>s.value.attribute_values,E,{deep:!0}),{errors:a,validateAll:D,hasErrors:M,resetErrors:()=>{Object.keys(a).forEach(d=>{a[d]=""})}}}export{sr as _,ur as a,cr as b,lr as c,dr as d,nr as e,ir as u};
