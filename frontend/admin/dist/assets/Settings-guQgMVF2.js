import{b as R,c as E,M as I,a as se,_ as ae}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-BipWElk8.js";import{D as oe}from"./DeleteIcon-GOxRpFvY.js";import{o as i,b as g,d as e,k as B,l as U,s as _,t as u,m as w,f,r as v,w as A,g as z,e as k,n as x,v as j,B as T,a as le,i as J,u as S,F as D,x as ne}from"./index-CEEZRwKY.js";import"./useAuth-CEw0P2Z7.js";const de={},ie={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-square-pen-icon lucide-square-pen"};function ue(n,c){return i(),g("svg",ie,c[0]||(c[0]=[e("path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},null,-1),e("path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"},null,-1)]))}const W=R(de,[["render",ue]]),me={},ge={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-user-round-plus-icon lucide-user-round-plus"};function ce(n,c){return i(),g("svg",ge,c[0]||(c[0]=[e("path",{d:"M2 21a8 8 0 0 1 13.292-6"},null,-1),e("circle",{cx:"10",cy:"8",r:"5"},null,-1),e("path",{d:"M19 16v6"},null,-1),e("path",{d:"M22 19h-6"},null,-1)]))}const be=R(me,[["render",ce]]),xe={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-md w-full mx-4"},pe={class:"p-6"},ye={class:"text-lg font-semibold text-gray-900 dark:text-white text-center"},ve={class:"mt-5 text-sm text-gray-600 dark:text-gray-400 text-center"},fe={class:"mt-4 flex justify-end gap-3"},ke={__name:"UserDeleteConfirmationModal",props:{isVisible:Boolean,userName:String,userEmail:String},emits:["close","confirm"],setup(n){return(c,l)=>n.isVisible?(i(),B(I,{key:0,onClose:l[2]||(l[2]=y=>c.$emit("close"))},{body:U(()=>[e("div",xe,[e("div",pe,[e("h3",ye,[l[3]||(l[3]=_(" Подтверждение удаления")),l[4]||(l[4]=e("br",null,null,-1)),_(" пользователя "+u(n.userName),1)]),e("p",ve,[l[5]||(l[5]=_(" Вы уверены, что хотите удалить пользователя")),l[6]||(l[6]=e("br",null,null,-1)),_(' "'+u(n.userName)+'" ('+u(n.userEmail)+")? ",1)]),e("div",fe,[w(E,{variant:"outline",onClick:l[0]||(l[0]=y=>c.$emit("close"))},{default:U(()=>l[7]||(l[7]=[_("Отмена")])),_:1}),w(E,{variant:"primary",onClick:l[1]||(l[1]=y=>c.$emit("confirm"))},{default:U(()=>l[8]||(l[8]=[_("Удалить")])),_:1})])])])]),_:1})):f("",!0)}},he={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-md w-full mx-4"},we={class:"p-6"},$e={key:0,class:"mt-1.5 text-theme-xs text-error-500"},_e={key:0,class:"mt-1.5 text-theme-xs text-error-500"},je={key:0,class:"text-sm text-warning-600 mb-4"},Ue={class:"space-y-3"},Ce=["disabled"],Ve=["disabled"],Ee=["disabled"],Me={class:"flex justify-end gap-3 pt-4"},Se={__name:"UserEditModal",props:{isVisible:{type:Boolean,default:!1},user:{type:Object,default:()=>({name:"",email:"",role:"user"})},errors:{type:Object,default:()=>({})},isCurrentUser:{type:Boolean,default:!1}},emits:["close","save","update:errors"],setup(n,{emit:c}){const l=n,y=c,a=v({name:"",email:"",role:"user"}),r=v({}),d=$=>$?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none";A(()=>l.isVisible,$=>{$?(a.value={...l.user},r.value={...l.errors}):(a.value={name:"",email:"",role:"user"},r.value={})}),A(()=>l.errors,$=>{r.value={...$}},{deep:!0});const p=()=>{y("close")},o=()=>{y("save",{...a.value})};return($,s)=>n.isVisible?(i(),B(I,{key:0,onClose:p},{body:U(()=>[e("div",he,[e("div",we,[s[13]||(s[13]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-4"}," Редактировать пользователя ",-1)),e("form",{onSubmit:z(o,["prevent"]),class:"space-y-4"},[e("div",null,[s[5]||(s[5]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Имя ",-1)),k(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=t=>a.value.name=t),readonly:"",class:x(d(r.value.name))},null,2),[[j,a.value.name]]),r.value.name?(i(),g("p",$e,u(r.value.name),1)):f("",!0)]),e("div",null,[s[6]||(s[6]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Почта ",-1)),k(e("input",{type:"email",id:"email","onUpdate:modelValue":s[1]||(s[1]=t=>a.value.email=t),readonly:"",class:x(d(r.value.email))},null,2),[[j,a.value.email]]),r.value.email?(i(),g("p",_e,u(r.value.email),1)):f("",!0)]),n.isCurrentUser?(i(),g("p",je,"Вы не можете изменить свою роль.")):f("",!0),e("div",null,[s[10]||(s[10]=e("div",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Роль",-1)),e("div",Ue,[e("label",{for:"role-admin",class:x([{"opacity-50 cursor-not-allowed":n.isCurrentUser},"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"])},[k(e("input",{id:"role-admin",type:"radio","onUpdate:modelValue":s[2]||(s[2]=t=>a.value.role=t),value:"admin",class:"sr-only",disabled:n.isCurrentUser},null,8,Ce),[[T,a.value.role]]),e("div",{class:x([a.value.role==="admin"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.value.role==="admin"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),s[7]||(s[7]=_(" Администратор "))],2),e("label",{for:"role-moderator",class:x([{"opacity-50 cursor-not-allowed":n.isCurrentUser},"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"])},[k(e("input",{id:"role-moderator",type:"radio","onUpdate:modelValue":s[3]||(s[3]=t=>a.value.role=t),value:"moderator",class:"sr-only",disabled:n.isCurrentUser},null,8,Ve),[[T,a.value.role]]),e("div",{class:x([a.value.role==="moderator"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.value.role==="moderator"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),s[8]||(s[8]=_(" Модератор "))],2),e("label",{for:"role-user",class:x([{"opacity-50 cursor-not-allowed":n.isCurrentUser},"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"])},[k(e("input",{id:"role-user",type:"radio","onUpdate:modelValue":s[4]||(s[4]=t=>a.value.role=t),value:"user",class:"sr-only",disabled:n.isCurrentUser},null,8,Ee),[[T,a.value.role]]),e("div",{class:x([a.value.role==="user"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.value.role==="user"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),s[9]||(s[9]=_(" Пользователь "))],2)])]),e("div",Me,[w(E,{variant:"outline",onClick:p},{default:U(()=>s[11]||(s[11]=[_("Отмена")])),_:1}),w(E,{variant:"primary",type:"submit",disabled:n.isCurrentUser},{default:U(()=>s[12]||(s[12]=[_(" Сохранить ")])),_:1},8,["disabled"])])],32)])])]),_:1})):f("",!0)}},Ae={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-md w-full mx-4"},Te={class:"p-6"},Be={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Ie={key:0,class:"mt-1.5 text-theme-xs text-error-500"},ze={key:0,class:"mt-1.5 text-theme-xs text-error-500"},De={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Oe={class:"space-y-3"},Ne={for:"role-admin",class:"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"},Pe={for:"role-moderator",class:"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"},qe={for:"role-user",class:"flex cursor-pointer items-center text-sm font-medium text-gray-700 select-none dark:text-gray-400"},Fe={class:"flex justify-end gap-3 pt-4"},He={__name:"UserAddModal",props:{isVisible:{type:Boolean,default:!1},errors:{type:Object,default:()=>({})}},emits:["close","save"],setup(n,{emit:c}){const l=n,y=c,a=le({name:"",email:"",password:"",password_confirmation:"",role:"user"}),r=v({}),d=s=>r.value[s]?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none";A(()=>l.isVisible,s=>{s&&(a.name="",a.email="",a.password="",a.password_confirmation="",a.role="user",r.value={})}),A(()=>l.errors,s=>{r.value={};for(const[t,b]of Object.entries(s))Array.isArray(b)&&b.length>0?r.value[t]=b[0]:r.value[t]=b},{deep:!0});const p=()=>{r.value={};let s=!0;return a.name.trim()||(r.value.name="Имя обязательно",s=!1),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(r.value.email="Неверный формат почты",s=!1):(r.value.email="Почта обязательна",s=!1),a.password?a.password.length<8&&(r.value.password="Пароль должен содержать минимум 8 символов",s=!1):(r.value.password="Пароль обязателен",s=!1),a.password!==a.password_confirmation&&(r.value.password_confirmation="Пароли не совпадают",s=!1),s},o=()=>{y("close")},$=()=>{p()&&y("save",{...a})};return(s,t)=>n.isVisible?(i(),B(I,{key:0,onClose:o},{body:U(()=>[e("div",Ae,[e("div",Te,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-4"}," Добавить пользователя ",-1)),e("form",{onSubmit:z($,["prevent"]),class:"space-y-4"},[e("div",null,[t[7]||(t[7]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Имя ",-1)),k(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=b=>a.name=b),class:x(d("name")),required:""},null,2),[[j,a.name]]),r.value.name?(i(),g("p",Be,u(r.value.name),1)):f("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Почта ",-1)),k(e("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=b=>a.email=b),class:x(d("email")),required:""},null,2),[[j,a.email]]),r.value.email?(i(),g("p",Ie,u(r.value.email),1)):f("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Пароль ",-1)),k(e("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=b=>a.password=b),class:x(d("password")),required:""},null,2),[[j,a.password]]),r.value.password?(i(),g("p",ze,u(r.value.password),1)):f("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Повторить пароль ",-1)),k(e("input",{type:"password",id:"password_confirmation","onUpdate:modelValue":t[3]||(t[3]=b=>a.password_confirmation=b),class:x(d("password_confirmation")),required:""},null,2),[[j,a.password_confirmation]]),r.value.password_confirmation?(i(),g("p",De,u(r.value.password_confirmation),1)):f("",!0)]),e("div",null,[t[14]||(t[14]=e("div",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Роль",-1)),e("div",Oe,[e("label",Ne,[k(e("input",{id:"role-admin",type:"radio","onUpdate:modelValue":t[4]||(t[4]=b=>a.role=b),value:"admin",class:"sr-only"},null,512),[[T,a.role]]),e("div",{class:x([a.role==="admin"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.role==="admin"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),t[11]||(t[11]=_(" Администратор "))]),e("label",Pe,[k(e("input",{id:"role-moderator",type:"radio","onUpdate:modelValue":t[5]||(t[5]=b=>a.role=b),value:"moderator",class:"sr-only"},null,512),[[T,a.role]]),e("div",{class:x([a.role==="moderator"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.role==="moderator"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),t[12]||(t[12]=_(" Модератор "))]),e("label",qe,[k(e("input",{id:"role-user",type:"radio","onUpdate:modelValue":t[6]||(t[6]=b=>a.role=b),value:"user",class:"sr-only"},null,512),[[T,a.role]]),e("div",{class:x([a.role==="user"?"border-brand-500 bg-brand-500":"bg-transparent border-gray-300 dark:border-gray-700","hover:border-brand-500 dark:hover:border-brand-500 mr-3 flex h-5 w-5 items-center justify-center rounded-full border-[1.25px]"])},[e("span",{class:x([a.role==="user"?"":"opacity-0","h-2 w-2 rounded-full bg-white"])},null,2)],2),t[13]||(t[13]=_(" Пользователь "))])])]),e("div",Fe,[w(E,{variant:"outline",onClick:o},{default:U(()=>t[15]||(t[15]=[_("Отмена")])),_:1}),w(E,{variant:"primary",type:"submit"},{default:U(()=>t[16]||(t[16]=[_(" Добавить ")])),_:1})])],32)])])]),_:1})):f("",!0)}},Le={class:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6"},Re={class:"flex items-start justify-between"},Je={class:"relative"},We={class:"relative"},Ge={class:"my-6"},Ke={key:0,class:"flex justify-center items-center h-32"},Qe={key:1,class:"flex flex-col justify-center items-center h-32 font-bold text-error-700 text-theme-xl dark:text-error-500"},Xe={key:2,class:"flex justify-center items-center h-32 font-bold text-theme-xl"},Ye={key:3},Ze={class:"w-full"},et={class:"py-3"},tt=["onClick"],rt={class:"block font-medium text-gray-800 text-theme-sm dark:text-white/90 hover:text-brand-500 dark:hover:text-brand-400"},st={class:"block text-gray-500 text-theme-xs dark:text-gray-400"},at={class:"text-center py-3"},ot={key:0,class:"px-2.5 py-0.5 rounded-full font-bold text-xs bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400"},lt={key:1,class:"px-2.5 py-0.5 rounded-full font-bold text-xs bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500"},nt={key:2,class:"px-2.5 py-0.5 rounded-full font-bold text-xs bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500"},dt={class:"text-right py-3"},it=["onClick","aria-label"],ut={__name:"UsersTable",setup(n){const c="http://test.dennistp.beget.tech",l=v([]),y=v(!1),a=v(null),r=v(!1),d=v(null),p=v(!1),o=v(null),$=v({}),s=v(!1),t=v({}),b=v(null),N=v(!1),P=async()=>{y.value=!0,a.value=null;try{const h=await fetch(`${c}/api/users`,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const m=await h.json();l.value=m.data||m}catch(h){a.value=h.message||"Unknown error",console.error("Error fetching users:",h)}finally{y.value=!1}},G=async()=>{try{const h=await fetch(`${c}/api/user`,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(h.ok){const m=await h.json();b.value=m.data||m}}catch(h){console.error("Error fetching current user:",h)}},K=async h=>{try{const m=await fetch(`${c}/api/users/${h.id}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!m.ok){const C=await m.json();throw new Error(C.message||"Failed to delete user")}l.value=l.value.filter(C=>C.id!==h.id)}catch(m){alert(`Ошибка при удалении: ${m.message||"Unknown error"}`),console.error("Error deleting user:",m)}},Q=h=>{d.value=h,r.value=!0},q=()=>{r.value=!1,d.value=null},X=()=>{K(d.value),q()},Y=h=>{var m;o.value=h,N.value=h.id===((m=b.value)==null?void 0:m.id),p.value=!0},F=()=>{p.value=!1,o.value=null,$.value={}},Z=async h=>{try{const m=await fetch(`${c}/api/users/${o.value.id}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify({role:h.role})});if(!m.ok){const V=await m.json();throw $.value=V.errors||{general:V.message},new Error(V.message||"Failed to update user")}const C=l.value.findIndex(V=>V.id===o.value.id);C!==-1&&(l.value[C]={...l.value[C],role:h.role}),F()}catch(m){console.error("Error updating user:",m),$.value.general||alert(`Ошибка при обновлении: ${m.message||"Unknown error"}`)}},ee=()=>{s.value=!0},H=()=>{s.value=!1,t.value={}},te=async h=>{try{const m=await fetch(`${c}/api/users`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(h)});if(!m.ok){const V=await m.json();t.value=V.errors||{general:V.message};return}const C=await m.json();l.value.push(C.data||C),H()}catch(m){console.error("Error creating user:",m),alert(`Ошибка при создании: ${m.message||"Unknown error"}`)}};return J(()=>{P(),G()}),(h,m)=>{var C,V;return i(),g("div",Le,[e("div",Re,[m[0]||(m[0]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Пользователи",-1)),e("div",Je,[e("div",We,[e("div",{class:"inline-flex items-center justify-center gap-2 rounded-lg transition bg-white text-brand-700 hover:bg-success-50 hover:ring-success-300 hover:text-success-700 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-success-500/15 dark:hover:ring-success-500/50 dark:hover:text-success-500 cursor-pointer p-1",onClick:ee},[w(S(be))])])])]),e("div",Ge,[y.value?(i(),g("div",Ke,m[1]||(m[1]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-500"},null,-1)]))):a.value?(i(),g("div",Qe,[m[2]||(m[2]=_(" Ошибка при загрузке")),m[3]||(m[3]=e("br",null,null,-1)),e("button",{class:"inline-flex items-center justify-center font-medium gap-2 rounded-lg transition px-4 py-3 text-sm bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300 mt-2",onClick:P}," Попробовать снова ")])):l.value.length===0?(i(),g("div",Xe," Пользователи не найдены ")):(i(),g("div",Ye,[e("table",Ze,[m[4]||(m[4]=e("thead",null,[e("tr",{class:"border-b border-gray-100 dark:border-gray-800"},[e("th",{class:"text-left text-gray-400 text-theme-xs pb-4"},"Пользователь"),e("th",{class:"text-center text-gray-400 text-theme-xs pb-4"},"Роль"),e("th",{class:"text-right text-gray-400 text-theme-xs pb-4"},"Действия")])],-1)),e("tbody",null,[(i(!0),g(D,null,ne(l.value,M=>(i(),g("tr",{key:M.id,class:"border-b border-gray-100 dark:border-gray-800"},[e("td",et,[e("button",{onClick:re=>Y(M),class:"text-left"},[e("span",rt,u(M.name),1),e("span",st,u(M.email),1)],8,tt)]),e("td",at,[M.role==="user"?(i(),g("span",ot," Пользователь ")):M.role==="moderator"?(i(),g("span",lt," Модератор ")):M.role==="admin"?(i(),g("span",nt," Администратор ")):f("",!0)]),e("td",dt,[e("button",{class:"inline-flex items-center justify-center gap-2 rounded-lg transition bg-white text-gray-700 ring-0 ring-gray-300 hover:bg-error-50 hover:ring-error-300 hover:text-error-700 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-error-500/15 dark:hover:ring-error-500/50 dark:hover:text-error-500 cursor-pointer p-1",onClick:re=>Q(M),"aria-label":`Удалить пользователя ${M.name}`},[w(S(oe))],8,it)])]))),128))])])]))]),w(ke,{isVisible:r.value,userName:(C=d.value)==null?void 0:C.name,userEmail:(V=d.value)==null?void 0:V.email,onClose:q,onConfirm:X},null,8,["isVisible","userName","userEmail"]),w(Se,{isVisible:p.value,user:o.value,errors:$.value,isCurrentUser:N.value,onClose:F,onSave:Z},null,8,["isVisible","user","errors","isCurrentUser"]),w(He,{isVisible:s.value,errors:t.value,onClose:H,onSave:te},null,8,["isVisible","errors"])])}}},mt={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-md w-full mx-4"},gt={class:"p-6"},ct={key:0,class:"mt-1.5 text-theme-xs text-error-500"},bt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},xt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},pt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},yt={class:"flex justify-end gap-3 pt-4"},vt={__name:"ContactsModal",props:{isVisible:{type:Boolean,default:!1},contacts:{type:Object,default:()=>({phone:"",email:"",telegram:"",whatsapp:""})},errors:{type:Object,default:()=>({})}},emits:["close","save","update:errors"],setup(n,{emit:c}){const l=n,y=c,a=v({phone:"",email:"",telegram:"",whatsapp:""}),r=v({}),d=s=>s?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none",p=s=>{let t=s.target.value.replace(/\D/g,"");t.startsWith("7")&&(t=t.substring(1)),t.length>10&&(t=t.substring(0,10));let b="+7";t.length>0&&(b+=" ("+t.substring(0,3)),t.length>=4&&(b+=") "+t.substring(3,6)),t.length>=7&&(b+="-"+t.substring(6,8)),t.length>=9&&(b+="-"+t.substring(8,10)),a.value.phone=b};A(()=>l.isVisible,s=>{s?(a.value={...l.contacts},r.value={...l.errors}):(a.value={phone:"",email:"",telegram:"",whatsapp:""},r.value={})}),A(()=>l.errors,s=>{r.value={...s}},{deep:!0});const o=()=>{y("close")},$=()=>{y("save",{...a.value})};return(s,t)=>n.isVisible?(i(),B(I,{key:0,onClose:o},{body:U(()=>[e("div",mt,[e("div",gt,[t[10]||(t[10]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-4"}," Редактировать контакты ",-1)),e("form",{onSubmit:z($,["prevent"]),class:"space-y-4"},[e("div",null,[t[4]||(t[4]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Телефон ",-1)),k(e("input",{type:"tel",id:"phone","onUpdate:modelValue":t[0]||(t[0]=b=>a.value.phone=b),onInput:p,autocomplete:"phone",placeholder:"+7 (___) ___-__-__",class:x(d(r.value.phone))},null,34),[[j,a.value.phone]]),r.value.phone?(i(),g("p",ct,u(r.value.phone),1)):f("",!0)]),e("div",null,[t[5]||(t[5]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Почта ",-1)),k(e("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=b=>a.value.email=b),class:x(d(r.value.email))},null,2),[[j,a.value.email]]),r.value.email?(i(),g("p",bt,u(r.value.email),1)):f("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{for:"telegram",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Telegram ",-1)),k(e("input",{type:"text",id:"telegram","onUpdate:modelValue":t[2]||(t[2]=b=>a.value.telegram=b),class:x(d(r.value.telegram))},null,2),[[j,a.value.telegram]]),r.value.telegram?(i(),g("p",xt,u(r.value.telegram),1)):f("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{for:"whatsapp",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," WhatsApp ",-1)),k(e("input",{type:"text",id:"whatsapp","onUpdate:modelValue":t[3]||(t[3]=b=>a.value.whatsapp=b),class:x(d(r.value.whatsapp))},null,2),[[j,a.value.whatsapp]]),r.value.whatsapp?(i(),g("p",pt,u(r.value.whatsapp),1)):f("",!0)]),e("div",yt,[w(E,{variant:"outline",onClick:o},{default:U(()=>t[8]||(t[8]=[_("Отмена")])),_:1}),w(E,{variant:"primary",type:"submit"},{default:U(()=>t[9]||(t[9]=[_(" Сохранить ")])),_:1})])],32)])])]),_:1})):f("",!0)}},L="http://test.dennistp.beget.tech";function O(){const n=v({phone:"",email:"",telegram:"",whatsapp:"",organization:"",adress:"",inn:"",ogrn:"",okato:"",okpo:"",bank:"",bik:"",ks:"",rs:""}),c=v(!1),l=v(null);return{information:n,loading:c,error:l,fetchInformation:async()=>{c.value=!0,l.value=null;try{const r=await fetch(`${L}/api/information`,{headers:{Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const d=await r.json();n.value=d}catch(r){l.value=r.message,console.error("Error fetching information:",r)}finally{c.value=!1}},updateInformation:async r=>{c.value=!0,l.value=null;try{const d=await fetch(`${L}/api/information`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(r)});if(!d.ok){if(d.status===422){const o=await d.json();return{success:!1,errors:o.errors,message:o.message}}throw new Error(`HTTP error! status: ${d.status}`)}const p=await d.json();return n.value=p,{success:!0,data:p}}catch(d){throw l.value=d.message,console.error("Error updating information:",d),d}finally{c.value=!1}}}}const ft={class:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6"},kt={class:"flex items-start justify-between"},ht={class:"relative"},wt={class:"relative"},$t={class:"my-6"},_t={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},jt={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},Ut={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},Ct={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},Vt={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},Et={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},Mt={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},St={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},At={__name:"ContactsTable",props:{contacts:Object},setup(n){const{updateInformation:c}=O(),l=v(!1),y=v({}),a=()=>{l.value=!0},r=()=>{l.value=!1,y.value={}},d=async p=>{try{const o=await c(p);o.success?r():y.value=o.errors||{}}catch(o){console.error("Error saving contacts:",o)}};return(p,o)=>(i(),g(D,null,[e("div",ft,[e("div",kt,[o[0]||(o[0]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Контакты",-1)),e("div",ht,[e("div",wt,[e("div",{class:"inline-flex items-center justify-center gap-2 rounded-lg transition bg-white text-brand-700 hover:bg-success-50 hover:ring-success-300 hover:text-success-700 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-success-500/15 dark:hover:ring-success-500/50 dark:hover:text-success-500 cursor-pointer p-1",onClick:a},[w(W)])])])]),e("div",$t,[o[5]||(o[5]=e("div",{class:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800"},[e("span",{class:"text-gray-400 text-theme-xs"},"Ресурс"),e("span",{class:"text-right text-gray-400 text-theme-xs"},"Данные")],-1)),e("div",_t,[o[1]||(o[1]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Телефон",-1)),e("span",jt,u(n.contacts.phone||"Не указано"),1)]),e("div",Ut,[o[2]||(o[2]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Почта",-1)),e("span",Ct,u(n.contacts.email||"Не указано"),1)]),e("div",Vt,[o[3]||(o[3]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Telegram",-1)),e("span",Et,u(n.contacts.telegram?"@"+n.contacts.telegram:"Не указано"),1)]),e("div",Mt,[o[4]||(o[4]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"WhatsApp",-1)),e("span",St,u(n.contacts.whatsapp?"+"+n.contacts.whatsapp:"Не указано"),1)])])]),w(vt,{"is-visible":l.value,contacts:n.contacts,errors:y.value,onClose:r,onSave:d},null,8,["is-visible","contacts","errors"])],64))}},Tt={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-lg max-w-xl w-full mx-4"},Bt={class:"p-6"},It={class:"grid grid-cols-2 gap-4"},zt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Dt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Ot={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Nt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Pt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},qt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Ft={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Ht={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Lt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Rt={key:0,class:"mt-1.5 text-theme-xs text-error-500"},Jt={class:"flex justify-end gap-3 pt-4"},Wt={__name:"DetailsModal",props:{isVisible:{type:Boolean,default:!1},details:{type:Object,default:()=>({organization:"",adress:"",inn:"",ogrn:"",okato:"",okpo:"",bank:"",bik:"",ks:"",rs:""})},errors:{type:Object,default:()=>({})}},emits:["close","save","update:errors"],setup(n,{emit:c}){const l=n,y=c,a=v({organization:"",adress:"",inn:"",ogrn:"",okato:"",okpo:"",bank:"",bik:"",ks:"",rs:""}),r=v({}),d=$=>$?"dark:bg-dark-900 shadow-theme-xs focus:border-error-300 focus:ring-error-500/10 dark:focus:border-error-800 h-11 w-full rounded-lg border border-error-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-error-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none":"dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 appearance-none";A(()=>l.isVisible,$=>{$?(a.value={...l.details},r.value={...l.errors}):(a.value={organization:"",adress:"",inn:"",ogrn:"",okato:"",okpo:"",bank:"",bik:"",ks:"",rs:""},r.value={})}),A(()=>l.errors,$=>{r.value={...$}},{deep:!0});const p=()=>{y("close")},o=()=>{y("save",{...a.value})};return($,s)=>n.isVisible?(i(),B(I,{key:0,onClose:p},{body:U(()=>[e("div",Tt,[e("div",Bt,[s[22]||(s[22]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white text-center mb-4"}," Редактировать реквизиты ",-1)),e("form",{onSubmit:z(o,["prevent"]),class:"space-y-4"},[e("div",It,[e("div",null,[s[10]||(s[10]=e("label",{for:"organization",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Организация ",-1)),k(e("input",{type:"text",id:"organization","onUpdate:modelValue":s[0]||(s[0]=t=>a.value.organization=t),class:x(d(r.value.organization))},null,2),[[j,a.value.organization]]),r.value.organization?(i(),g("p",zt,u(r.value.organization),1)):f("",!0)]),e("div",null,[s[11]||(s[11]=e("label",{for:"adress",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Адрес ",-1)),k(e("input",{type:"text",id:"adress","onUpdate:modelValue":s[1]||(s[1]=t=>a.value.adress=t),class:x(d(r.value.adress))},null,2),[[j,a.value.adress]]),r.value.adress?(i(),g("p",Dt,u(r.value.adress),1)):f("",!0)]),e("div",null,[s[12]||(s[12]=e("label",{for:"inn",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," ИНН ",-1)),k(e("input",{type:"text",id:"inn","onUpdate:modelValue":s[2]||(s[2]=t=>a.value.inn=t),class:x(d(r.value.inn))},null,2),[[j,a.value.inn]]),r.value.inn?(i(),g("p",Ot,u(r.value.inn),1)):f("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{for:"ogrn",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," ОГРН ",-1)),k(e("input",{type:"text",id:"ogrn","onUpdate:modelValue":s[3]||(s[3]=t=>a.value.ogrn=t),class:x(d(r.value.ogrn))},null,2),[[j,a.value.ogrn]]),r.value.ogrn?(i(),g("p",Nt,u(r.value.ogrn),1)):f("",!0)]),e("div",null,[s[14]||(s[14]=e("label",{for:"okato",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," ОКАТО ",-1)),k(e("input",{type:"text",id:"okato","onUpdate:modelValue":s[4]||(s[4]=t=>a.value.okato=t),class:x(d(r.value.okato))},null,2),[[j,a.value.okato]]),r.value.okato?(i(),g("p",Pt,u(r.value.okato),1)):f("",!0)]),e("div",null,[s[15]||(s[15]=e("label",{for:"okpo",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," ОКПО ",-1)),k(e("input",{type:"text",id:"okpo","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.okpo=t),class:x(d(r.value.okpo))},null,2),[[j,a.value.okpo]]),r.value.okpo?(i(),g("p",qt,u(r.value.okpo),1)):f("",!0)]),e("div",null,[s[16]||(s[16]=e("label",{for:"bank",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Банк ",-1)),k(e("input",{type:"text",id:"bank","onUpdate:modelValue":s[6]||(s[6]=t=>a.value.bank=t),class:x(d(r.value.bank))},null,2),[[j,a.value.bank]]),r.value.bank?(i(),g("p",Ft,u(r.value.bank),1)):f("",!0)]),e("div",null,[s[17]||(s[17]=e("label",{for:"bik",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," БИК Банка ",-1)),k(e("input",{type:"text",id:"bik","onUpdate:modelValue":s[7]||(s[7]=t=>a.value.bik=t),class:x(d(r.value.bik))},null,2),[[j,a.value.bik]]),r.value.bik?(i(),g("p",Ht,u(r.value.bik),1)):f("",!0)]),e("div",null,[s[18]||(s[18]=e("label",{for:"ks",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," к/с ",-1)),k(e("input",{type:"text",id:"ks","onUpdate:modelValue":s[8]||(s[8]=t=>a.value.ks=t),class:x(d(r.value.ks))},null,2),[[j,a.value.ks]]),r.value.ks?(i(),g("p",Lt,u(r.value.ks),1)):f("",!0)]),e("div",null,[s[19]||(s[19]=e("label",{for:"rs",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," р/с ",-1)),k(e("input",{type:"text",id:"rs","onUpdate:modelValue":s[9]||(s[9]=t=>a.value.rs=t),class:x(d(r.value.rs))},null,2),[[j,a.value.rs]]),r.value.rs?(i(),g("p",Rt,u(r.value.rs),1)):f("",!0)])]),e("div",Jt,[w(E,{variant:"outline",onClick:p},{default:U(()=>s[20]||(s[20]=[_("Отмена")])),_:1}),w(E,{variant:"primary",type:"submit"},{default:U(()=>s[21]||(s[21]=[_(" Сохранить ")])),_:1})])],32)])])]),_:1})):f("",!0)}},Gt={class:"rounded-2xl border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-white/[0.03] md:p-6"},Kt={class:"flex items-start justify-between"},Qt={class:"relative"},Xt={class:"relative"},Yt={class:"my-6"},Zt={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},er={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},tr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},rr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},sr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},ar={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},or={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},lr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},nr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},dr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},ir={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},ur={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},mr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},gr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},cr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},br={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},xr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},pr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},yr={class:"flex items-center justify-between py-3 border-b border-gray-100 dark:border-gray-800"},vr={class:"text-right text-gray-500 text-theme-sm dark:text-gray-400"},fr={__name:"DetailsTable",props:{details:Object},setup(n){const{updateInformation:c}=O(),l=v(!1),y=v({}),a=()=>{l.value=!0},r=()=>{l.value=!1,y.value={}},d=async p=>{try{const o=await c(p);o.success?r():y.value=o.errors||{}}catch(o){console.error("Error saving details:",o)}};return(p,o)=>(i(),g(D,null,[e("div",Gt,[e("div",Kt,[o[0]||(o[0]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white/90"},"Реквизиты компании",-1)),e("div",Qt,[e("div",Xt,[e("div",{class:"inline-flex items-center justify-center gap-2 rounded-lg transition bg-white text-brand-700 hover:bg-success-50 hover:ring-success-300 hover:text-success-700 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-success-500/15 dark:hover:ring-success-500/50 dark:hover:text-success-500 cursor-pointer p-1",onClick:a},[w(W)])])])]),e("div",Yt,[o[11]||(o[11]=e("div",{class:"flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-800"},[e("span",{class:"text-gray-400 text-theme-xs"},"Ресурс"),e("span",{class:"text-right text-gray-400 text-theme-xs"},"Данные")],-1)),e("div",Zt,[o[1]||(o[1]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Организация",-1)),e("span",er,u(n.details.organization||"Не указано"),1)]),e("div",tr,[o[2]||(o[2]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Адрес",-1)),e("span",rr,u(n.details.adress||"Не указано"),1)]),e("div",sr,[o[3]||(o[3]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"ИНН",-1)),e("span",ar,u(n.details.inn||"Не указано"),1)]),e("div",or,[o[4]||(o[4]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"ОГРН",-1)),e("span",lr,u(n.details.ogrn||"Не указано"),1)]),e("div",nr,[o[5]||(o[5]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"ОКАТО",-1)),e("span",dr,u(n.details.okato||"Не указано"),1)]),e("div",ir,[o[6]||(o[6]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"ОКПО",-1)),e("span",ur,u(n.details.okpo||"Не указано"),1)]),e("div",mr,[o[7]||(o[7]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"Банк",-1)),e("span",gr,u(n.details.bank||"Не указано"),1)]),e("div",cr,[o[8]||(o[8]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"БИК Банка",-1)),e("span",br,u(n.details.bik||"Не указано"),1)]),e("div",xr,[o[9]||(o[9]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"к/с",-1)),e("span",pr,u(n.details.ks||"Не указано"),1)]),e("div",yr,[o[10]||(o[10]=e("span",{class:"text-gray-500 text-theme-sm dark:text-gray-400"},"р/с",-1)),e("span",vr,u(n.details.rs||"Не указано"),1)])])]),w(Wt,{"is-visible":l.value,details:n.details,errors:y.value,onClose:r,onSave:d},null,8,["is-visible","details","errors"])],64))}},kr={key:0,class:"flex justify-center items-center h-screen"},hr={key:1,class:"flex flex-col justify-center items-center h-screen font-bold text-error-700 text-theme-xl dark:text-error-500"},wr={key:2},$r={class:"grid grid-cols-12 gap-4 md:gap-6 mb-4 md:mb-6"},_r={class:"col-span-12 xl:col-span-5"},jr={class:"col-span-12 xl:col-span-7"},Ur={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},Sr={__name:"Settings",setup(n){const c=v("Настройки сайта"),{information:l,loading:y,error:a,fetchInformation:r}=O();return J(()=>{r()}),(d,p)=>(i(),B(se,null,{default:U(()=>[w(ae,{pageTitle:c.value},null,8,["pageTitle"]),S(y)?(i(),g("div",kr,p[1]||(p[1]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-brand-500"},null,-1)]))):S(a)?(i(),g("div",hr,[p[2]||(p[2]=_(" Ошибка при загрузке")),p[3]||(p[3]=e("br",null,null,-1)),e("button",{class:"inline-flex items-center justify-center font-medium gap-2 rounded-lg transition px-4 py-3 text-sm bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300 mt-2",onClick:p[0]||(p[0]=(...o)=>S(r)&&S(r)(...o))}," Попробовать снова ")])):(i(),g("div",wr,[e("div",$r,[e("div",_r,[w(ut)]),e("div",jr,[e("div",Ur,[w(At,{contacts:S(l)},null,8,["contacts"]),w(fr,{details:S(l)},null,8,["details"])])])])]))]),_:1}))}};export{Sr as default};
